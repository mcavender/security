{"ast":null,"code":"/**\r\n * DevExtreme (ui/toolbar.js)\r\n * Version: 20.2.6\r\n * Build date: Tue Mar 16 2021\r\n *\r\n * Copyright (c) 2012 - 2021 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\n\"use strict\";\n\nexports.default = void 0;\n\nvar _renderer = _interopRequireDefault(require(\"../core/renderer\"));\n\nvar _component_registrator = _interopRequireDefault(require(\"../core/component_registrator\"));\n\nvar _common = require(\"../core/utils/common\");\n\nvar _extend = require(\"../core/utils/extend\");\n\nvar _array = require(\"../core/utils/array\");\n\nvar _iterator = require(\"../core/utils/iterator\");\n\nvar _uiToolbarStrategy = _interopRequireDefault(require(\"./toolbar/ui.toolbar.strategy.action_sheet\"));\n\nvar _uiToolbarStrategy2 = _interopRequireDefault(require(\"./toolbar/ui.toolbar.strategy.drop_down_menu\"));\n\nvar _uiToolbar = _interopRequireDefault(require(\"./toolbar/ui.toolbar.base\"));\n\nvar _child_default_template = require(\"../core/templates/child_default_template\");\n\nfunction _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : {\n    \"default\": obj\n  };\n}\n\nvar STRATEGIES = {\n  actionSheet: _uiToolbarStrategy.default,\n  dropDownMenu: _uiToolbarStrategy2.default\n};\nvar TOOLBAR_AUTO_HIDE_ITEM_CLASS = \"dx-toolbar-item-auto-hide\";\nvar TOOLBAR_AUTO_HIDE_TEXT_CLASS = \"dx-toolbar-text-auto-hide\";\nvar TOOLBAR_HIDDEN_ITEM = \"dx-toolbar-item-invisible\";\n\nvar Toolbar = _uiToolbar.default.inherit({\n  _getDefaultOptions: function () {\n    return (0, _extend.extend)(this.callBase(), {\n      menuItemTemplate: \"menuItem\",\n      submenuType: \"dropDownMenu\",\n      menuContainer: void 0\n    });\n  },\n  _dimensionChanged: function (dimension) {\n    if (\"height\" === dimension) {\n      return;\n    }\n\n    this._menuStrategy.toggleMenuVisibility(false, true);\n\n    this.callBase();\n\n    this._menuStrategy.renderMenuItems();\n  },\n  _initTemplates: function () {\n    this.callBase();\n\n    this._templateManager.addDefaultTemplates({\n      actionSheetItem: new _child_default_template.ChildDefaultTemplate(\"item\")\n    });\n  },\n  _initMarkup: function () {\n    this.callBase();\n\n    this._renderMenu();\n  },\n  _postProcessRenderItems: function () {\n    var _this = this;\n\n    this._hideOverflowItems();\n\n    this._menuStrategy._updateMenuVisibility();\n\n    this.callBase();\n    (0, _common.deferRender)(function () {\n      _this._menuStrategy.renderMenuItems();\n    });\n  },\n  _renderItem: function (index, item, itemContainer, $after) {\n    var itemElement = this.callBase(index, item, itemContainer, $after);\n\n    if (\"auto\" === item.locateInMenu) {\n      itemElement.addClass(TOOLBAR_AUTO_HIDE_ITEM_CLASS);\n    }\n\n    if (\"dxButton\" === item.widget && \"inMenu\" === item.showText) {\n      itemElement.toggleClass(TOOLBAR_AUTO_HIDE_TEXT_CLASS);\n    }\n\n    return itemElement;\n  },\n  _getItemsWidth: function () {\n    return this._getSummaryItemsWidth([this._$beforeSection, this._$centerSection, this._$afterSection]);\n  },\n  _hideOverflowItems: function (elementWidth) {\n    var overflowItems = this.$element().find(\".\" + TOOLBAR_AUTO_HIDE_ITEM_CLASS);\n\n    if (!overflowItems.length) {\n      return;\n    }\n\n    elementWidth = elementWidth || this.$element().width();\n    (0, _renderer.default)(overflowItems).removeClass(TOOLBAR_HIDDEN_ITEM);\n\n    var itemsWidth = this._getItemsWidth();\n\n    while (overflowItems.length && elementWidth < itemsWidth) {\n      var $item = overflowItems.eq(-1);\n      itemsWidth -= $item.outerWidth();\n      $item.addClass(TOOLBAR_HIDDEN_ITEM);\n      overflowItems.splice(-1, 1);\n    }\n  },\n  _getMenuItems: function () {\n    var that = this;\n    var menuItems = (0, _common.grep)(this.option(\"items\") || [], function (item) {\n      return that._isMenuItem(item);\n    });\n\n    var $hiddenItems = this._itemContainer().children(\".\" + TOOLBAR_AUTO_HIDE_ITEM_CLASS + \".\" + TOOLBAR_HIDDEN_ITEM).not(\".dx-state-invisible\");\n\n    this._restoreItems = this._restoreItems || [];\n    var overflowItems = [].slice.call($hiddenItems).map(function (item) {\n      var itemData = that._getItemData(item);\n\n      var $itemContainer = (0, _renderer.default)(item).children();\n      var $itemMarkup = $itemContainer.children();\n      return (0, _extend.extend)({\n        menuItemTemplate: function () {\n          that._restoreItems.push({\n            container: $itemContainer,\n            item: $itemMarkup\n          });\n\n          var $container = (0, _renderer.default)(\"<div>\").addClass(TOOLBAR_AUTO_HIDE_ITEM_CLASS);\n          return $container.append($itemMarkup);\n        }\n      }, itemData);\n    });\n    return (0, _array.merge)(overflowItems, menuItems);\n  },\n  _getToolbarItems: function () {\n    var that = this;\n    return (0, _common.grep)(this.option(\"items\") || [], function (item) {\n      return !that._isMenuItem(item);\n    });\n  },\n  _renderMenu: function () {\n    var _this2 = this;\n\n    this._renderMenuStrategy();\n\n    (0, _common.deferRender)(function () {\n      _this2._menuStrategy.render();\n    });\n  },\n  _renderMenuStrategy: function () {\n    var strategyName = this.option(\"submenuType\");\n\n    if (this._requireDropDownStrategy()) {\n      strategyName = \"dropDownMenu\";\n    }\n\n    var strategy = STRATEGIES[strategyName];\n\n    if (!(this._menuStrategy && this._menuStrategy.NAME === strategyName)) {\n      this._menuStrategy = new strategy(this);\n    }\n  },\n  _requireDropDownStrategy: function () {\n    var items = this.option(\"items\") || [];\n    var result = false;\n    (0, _iterator.each)(items, function (index, item) {\n      if (\"auto\" === item.locateInMenu) {\n        result = true;\n      } else {\n        if (\"always\" === item.locateInMenu && item.widget) {\n          result = true;\n        }\n      }\n    });\n    return result;\n  },\n  _arrangeItems: function () {\n    if (this.$element().is(\":hidden\")) {\n      return;\n    }\n\n    this._$centerSection.css({\n      margin: \"0 auto\",\n      \"float\": \"none\"\n    });\n\n    (0, _iterator.each)(this._restoreItems || [], function (_, obj) {\n      (0, _renderer.default)(obj.container).append(obj.item);\n    });\n    this._restoreItems = [];\n    var elementWidth = this.$element().width();\n\n    this._hideOverflowItems(elementWidth);\n\n    this.callBase(elementWidth);\n  },\n  _itemOptionChanged: function (item, property, value) {\n    if (this._isMenuItem(item)) {\n      this._menuStrategy.renderMenuItems();\n    } else {\n      if (this._isToolbarItem(item)) {\n        this.callBase(item, property, value);\n      } else {\n        this.callBase(item, property, value);\n\n        this._menuStrategy.renderMenuItems();\n      }\n    }\n\n    if (\"location\" === property) {\n      this.repaint();\n    }\n  },\n  _isMenuItem: function (itemData) {\n    return \"menu\" === itemData.location || \"always\" === itemData.locateInMenu;\n  },\n  _isToolbarItem: function (itemData) {\n    return void 0 === itemData.location || \"never\" === itemData.locateInMenu;\n  },\n  _optionChanged: function (args) {\n    var name = args.name;\n    var value = args.value;\n\n    switch (name) {\n      case \"submenuType\":\n        this._invalidate();\n\n        break;\n\n      case \"visible\":\n        this.callBase.apply(this, arguments);\n\n        this._menuStrategy.handleToolbarVisibilityChange(value);\n\n        break;\n\n      case \"menuItemTemplate\":\n        this._changeMenuOption(\"itemTemplate\", this._getTemplate(value));\n\n        break;\n\n      case \"onItemClick\":\n        this._changeMenuOption(name, value);\n\n        this.callBase.apply(this, arguments);\n        break;\n\n      case \"menuContainer\":\n        this._changeMenuOption(\"container\", value);\n\n        break;\n\n      default:\n        this.callBase.apply(this, arguments);\n    }\n  },\n  _changeMenuOption: function (name, value) {\n    this._menuStrategy.widgetOption(name, value);\n  }\n});\n\n(0, _component_registrator.default)(\"dxToolbar\", Toolbar);\nvar _default = Toolbar;\nexports.default = _default;\nmodule.exports = exports.default;\nmodule.exports.default = module.exports;","map":{"version":3,"sources":["C:/Users/CapiniaC/Desktop/Collection/Work/project/security/node_modules/devextreme/ui/toolbar.js"],"names":["exports","default","_renderer","_interopRequireDefault","require","_component_registrator","_common","_extend","_array","_iterator","_uiToolbarStrategy","_uiToolbarStrategy2","_uiToolbar","_child_default_template","obj","__esModule","STRATEGIES","actionSheet","dropDownMenu","TOOLBAR_AUTO_HIDE_ITEM_CLASS","TOOLBAR_AUTO_HIDE_TEXT_CLASS","TOOLBAR_HIDDEN_ITEM","Toolbar","inherit","_getDefaultOptions","extend","callBase","menuItemTemplate","submenuType","menuContainer","_dimensionChanged","dimension","_menuStrategy","toggleMenuVisibility","renderMenuItems","_initTemplates","_templateManager","addDefaultTemplates","actionSheetItem","ChildDefaultTemplate","_initMarkup","_renderMenu","_postProcessRenderItems","_this","_hideOverflowItems","_updateMenuVisibility","deferRender","_renderItem","index","item","itemContainer","$after","itemElement","locateInMenu","addClass","widget","showText","toggleClass","_getItemsWidth","_getSummaryItemsWidth","_$beforeSection","_$centerSection","_$afterSection","elementWidth","overflowItems","$element","find","length","width","removeClass","itemsWidth","$item","eq","outerWidth","splice","_getMenuItems","that","menuItems","grep","option","_isMenuItem","$hiddenItems","_itemContainer","children","not","_restoreItems","slice","call","map","itemData","_getItemData","$itemContainer","$itemMarkup","push","container","$container","append","merge","_getToolbarItems","_this2","_renderMenuStrategy","render","strategyName","_requireDropDownStrategy","strategy","NAME","items","result","each","_arrangeItems","is","css","margin","_","_itemOptionChanged","property","value","_isToolbarItem","repaint","location","_optionChanged","args","name","_invalidate","apply","arguments","handleToolbarVisibilityChange","_changeMenuOption","_getTemplate","widgetOption","_default","module"],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AACAA,OAAO,CAACC,OAAR,GAAkB,KAAK,CAAvB;;AACA,IAAIC,SAAS,GAAGC,sBAAsB,CAACC,OAAO,CAAC,kBAAD,CAAR,CAAtC;;AACA,IAAIC,sBAAsB,GAAGF,sBAAsB,CAACC,OAAO,CAAC,+BAAD,CAAR,CAAnD;;AACA,IAAIE,OAAO,GAAGF,OAAO,CAAC,sBAAD,CAArB;;AACA,IAAIG,OAAO,GAAGH,OAAO,CAAC,sBAAD,CAArB;;AACA,IAAII,MAAM,GAAGJ,OAAO,CAAC,qBAAD,CAApB;;AACA,IAAIK,SAAS,GAAGL,OAAO,CAAC,wBAAD,CAAvB;;AACA,IAAIM,kBAAkB,GAAGP,sBAAsB,CAACC,OAAO,CAAC,4CAAD,CAAR,CAA/C;;AACA,IAAIO,mBAAmB,GAAGR,sBAAsB,CAACC,OAAO,CAAC,8CAAD,CAAR,CAAhD;;AACA,IAAIQ,UAAU,GAAGT,sBAAsB,CAACC,OAAO,CAAC,2BAAD,CAAR,CAAvC;;AACA,IAAIS,uBAAuB,GAAGT,OAAO,CAAC,0CAAD,CAArC;;AAEA,SAASD,sBAAT,CAAgCW,GAAhC,EAAqC;AACjC,SAAOA,GAAG,IAAIA,GAAG,CAACC,UAAX,GAAwBD,GAAxB,GAA8B;AACjC,eAAWA;AADsB,GAArC;AAGH;;AACD,IAAIE,UAAU,GAAG;AACbC,EAAAA,WAAW,EAAEP,kBAAkB,CAACT,OADnB;AAEbiB,EAAAA,YAAY,EAAEP,mBAAmB,CAACV;AAFrB,CAAjB;AAIA,IAAIkB,4BAA4B,GAAG,2BAAnC;AACA,IAAIC,4BAA4B,GAAG,2BAAnC;AACA,IAAIC,mBAAmB,GAAG,2BAA1B;;AACA,IAAIC,OAAO,GAAGV,UAAU,CAACX,OAAX,CAAmBsB,OAAnB,CAA2B;AACrCC,EAAAA,kBAAkB,EAAE,YAAW;AAC3B,WAAO,CAAC,GAAGjB,OAAO,CAACkB,MAAZ,EAAoB,KAAKC,QAAL,EAApB,EAAqC;AACxCC,MAAAA,gBAAgB,EAAE,UADsB;AAExCC,MAAAA,WAAW,EAAE,cAF2B;AAGxCC,MAAAA,aAAa,EAAE,KAAK;AAHoB,KAArC,CAAP;AAKH,GAPoC;AAQrCC,EAAAA,iBAAiB,EAAE,UAASC,SAAT,EAAoB;AACnC,QAAI,aAAaA,SAAjB,EAA4B;AACxB;AACH;;AACD,SAAKC,aAAL,CAAmBC,oBAAnB,CAAwC,KAAxC,EAA+C,IAA/C;;AACA,SAAKP,QAAL;;AACA,SAAKM,aAAL,CAAmBE,eAAnB;AACH,GAfoC;AAgBrCC,EAAAA,cAAc,EAAE,YAAW;AACvB,SAAKT,QAAL;;AACA,SAAKU,gBAAL,CAAsBC,mBAAtB,CAA0C;AACtCC,MAAAA,eAAe,EAAE,IAAIzB,uBAAuB,CAAC0B,oBAA5B,CAAiD,MAAjD;AADqB,KAA1C;AAGH,GArBoC;AAsBrCC,EAAAA,WAAW,EAAE,YAAW;AACpB,SAAKd,QAAL;;AACA,SAAKe,WAAL;AACH,GAzBoC;AA0BrCC,EAAAA,uBAAuB,EAAE,YAAW;AAChC,QAAIC,KAAK,GAAG,IAAZ;;AACA,SAAKC,kBAAL;;AACA,SAAKZ,aAAL,CAAmBa,qBAAnB;;AACA,SAAKnB,QAAL;AACA,KAAC,GAAGpB,OAAO,CAACwC,WAAZ,EAAyB,YAAW;AAChCH,MAAAA,KAAK,CAACX,aAAN,CAAoBE,eAApB;AACH,KAFD;AAGH,GAlCoC;AAmCrCa,EAAAA,WAAW,EAAE,UAASC,KAAT,EAAgBC,IAAhB,EAAsBC,aAAtB,EAAqCC,MAArC,EAA6C;AACtD,QAAIC,WAAW,GAAG,KAAK1B,QAAL,CAAcsB,KAAd,EAAqBC,IAArB,EAA2BC,aAA3B,EAA0CC,MAA1C,CAAlB;;AACA,QAAI,WAAWF,IAAI,CAACI,YAApB,EAAkC;AAC9BD,MAAAA,WAAW,CAACE,QAAZ,CAAqBnC,4BAArB;AACH;;AACD,QAAI,eAAe8B,IAAI,CAACM,MAApB,IAA8B,aAAaN,IAAI,CAACO,QAApD,EAA8D;AAC1DJ,MAAAA,WAAW,CAACK,WAAZ,CAAwBrC,4BAAxB;AACH;;AACD,WAAOgC,WAAP;AACH,GA5CoC;AA6CrCM,EAAAA,cAAc,EAAE,YAAW;AACvB,WAAO,KAAKC,qBAAL,CAA2B,CAAC,KAAKC,eAAN,EAAuB,KAAKC,eAA5B,EAA6C,KAAKC,cAAlD,CAA3B,CAAP;AACH,GA/CoC;AAgDrClB,EAAAA,kBAAkB,EAAE,UAASmB,YAAT,EAAuB;AACvC,QAAIC,aAAa,GAAG,KAAKC,QAAL,GAAgBC,IAAhB,CAAqB,MAAM/C,4BAA3B,CAApB;;AACA,QAAI,CAAC6C,aAAa,CAACG,MAAnB,EAA2B;AACvB;AACH;;AACDJ,IAAAA,YAAY,GAAGA,YAAY,IAAI,KAAKE,QAAL,GAAgBG,KAAhB,EAA/B;AACA,KAAC,GAAGlE,SAAS,CAACD,OAAd,EAAuB+D,aAAvB,EAAsCK,WAAtC,CAAkDhD,mBAAlD;;AACA,QAAIiD,UAAU,GAAG,KAAKZ,cAAL,EAAjB;;AACA,WAAOM,aAAa,CAACG,MAAd,IAAwBJ,YAAY,GAAGO,UAA9C,EAA0D;AACtD,UAAIC,KAAK,GAAGP,aAAa,CAACQ,EAAd,CAAiB,CAAC,CAAlB,CAAZ;AACAF,MAAAA,UAAU,IAAIC,KAAK,CAACE,UAAN,EAAd;AACAF,MAAAA,KAAK,CAACjB,QAAN,CAAejC,mBAAf;AACA2C,MAAAA,aAAa,CAACU,MAAd,CAAqB,CAAC,CAAtB,EAAyB,CAAzB;AACH;AACJ,GA9DoC;AA+DrCC,EAAAA,aAAa,EAAE,YAAW;AACtB,QAAIC,IAAI,GAAG,IAAX;AACA,QAAIC,SAAS,GAAG,CAAC,GAAGvE,OAAO,CAACwE,IAAZ,EAAkB,KAAKC,MAAL,CAAY,OAAZ,KAAwB,EAA1C,EAA8C,UAAS9B,IAAT,EAAe;AACzE,aAAO2B,IAAI,CAACI,WAAL,CAAiB/B,IAAjB,CAAP;AACH,KAFe,CAAhB;;AAGA,QAAIgC,YAAY,GAAG,KAAKC,cAAL,GAAsBC,QAAtB,CAA+B,MAAMhE,4BAAN,GAAqC,GAArC,GAA2CE,mBAA1E,EAA+F+D,GAA/F,CAAmG,qBAAnG,CAAnB;;AACA,SAAKC,aAAL,GAAqB,KAAKA,aAAL,IAAsB,EAA3C;AACA,QAAIrB,aAAa,GAAG,GAAGsB,KAAH,CAASC,IAAT,CAAcN,YAAd,EAA4BO,GAA5B,CAAgC,UAASvC,IAAT,EAAe;AAC/D,UAAIwC,QAAQ,GAAGb,IAAI,CAACc,YAAL,CAAkBzC,IAAlB,CAAf;;AACA,UAAI0C,cAAc,GAAG,CAAC,GAAGzF,SAAS,CAACD,OAAd,EAAuBgD,IAAvB,EAA6BkC,QAA7B,EAArB;AACA,UAAIS,WAAW,GAAGD,cAAc,CAACR,QAAf,EAAlB;AACA,aAAO,CAAC,GAAG5E,OAAO,CAACkB,MAAZ,EAAoB;AACvBE,QAAAA,gBAAgB,EAAE,YAAW;AACzBiD,UAAAA,IAAI,CAACS,aAAL,CAAmBQ,IAAnB,CAAwB;AACpBC,YAAAA,SAAS,EAAEH,cADS;AAEpB1C,YAAAA,IAAI,EAAE2C;AAFc,WAAxB;;AAIA,cAAIG,UAAU,GAAG,CAAC,GAAG7F,SAAS,CAACD,OAAd,EAAuB,OAAvB,EAAgCqD,QAAhC,CAAyCnC,4BAAzC,CAAjB;AACA,iBAAO4E,UAAU,CAACC,MAAX,CAAkBJ,WAAlB,CAAP;AACH;AARsB,OAApB,EASJH,QATI,CAAP;AAUH,KAdmB,CAApB;AAeA,WAAO,CAAC,GAAGjF,MAAM,CAACyF,KAAX,EAAkBjC,aAAlB,EAAiCa,SAAjC,CAAP;AACH,GAtFoC;AAuFrCqB,EAAAA,gBAAgB,EAAE,YAAW;AACzB,QAAItB,IAAI,GAAG,IAAX;AACA,WAAO,CAAC,GAAGtE,OAAO,CAACwE,IAAZ,EAAkB,KAAKC,MAAL,CAAY,OAAZ,KAAwB,EAA1C,EAA8C,UAAS9B,IAAT,EAAe;AAChE,aAAO,CAAC2B,IAAI,CAACI,WAAL,CAAiB/B,IAAjB,CAAR;AACH,KAFM,CAAP;AAGH,GA5FoC;AA6FrCR,EAAAA,WAAW,EAAE,YAAW;AACpB,QAAI0D,MAAM,GAAG,IAAb;;AACA,SAAKC,mBAAL;;AACA,KAAC,GAAG9F,OAAO,CAACwC,WAAZ,EAAyB,YAAW;AAChCqD,MAAAA,MAAM,CAACnE,aAAP,CAAqBqE,MAArB;AACH,KAFD;AAGH,GAnGoC;AAoGrCD,EAAAA,mBAAmB,EAAE,YAAW;AAC5B,QAAIE,YAAY,GAAG,KAAKvB,MAAL,CAAY,aAAZ,CAAnB;;AACA,QAAI,KAAKwB,wBAAL,EAAJ,EAAqC;AACjCD,MAAAA,YAAY,GAAG,cAAf;AACH;;AACD,QAAIE,QAAQ,GAAGxF,UAAU,CAACsF,YAAD,CAAzB;;AACA,QAAI,EAAE,KAAKtE,aAAL,IAAsB,KAAKA,aAAL,CAAmByE,IAAnB,KAA4BH,YAApD,CAAJ,EAAuE;AACnE,WAAKtE,aAAL,GAAqB,IAAIwE,QAAJ,CAAa,IAAb,CAArB;AACH;AACJ,GA7GoC;AA8GrCD,EAAAA,wBAAwB,EAAE,YAAW;AACjC,QAAIG,KAAK,GAAG,KAAK3B,MAAL,CAAY,OAAZ,KAAwB,EAApC;AACA,QAAI4B,MAAM,GAAG,KAAb;AACA,KAAC,GAAGlG,SAAS,CAACmG,IAAd,EAAoBF,KAApB,EAA2B,UAAS1D,KAAT,EAAgBC,IAAhB,EAAsB;AAC7C,UAAI,WAAWA,IAAI,CAACI,YAApB,EAAkC;AAC9BsD,QAAAA,MAAM,GAAG,IAAT;AACH,OAFD,MAEO;AACH,YAAI,aAAa1D,IAAI,CAACI,YAAlB,IAAkCJ,IAAI,CAACM,MAA3C,EAAmD;AAC/CoD,UAAAA,MAAM,GAAG,IAAT;AACH;AACJ;AACJ,KARD;AASA,WAAOA,MAAP;AACH,GA3HoC;AA4HrCE,EAAAA,aAAa,EAAE,YAAW;AACtB,QAAI,KAAK5C,QAAL,GAAgB6C,EAAhB,CAAmB,SAAnB,CAAJ,EAAmC;AAC/B;AACH;;AACD,SAAKjD,eAAL,CAAqBkD,GAArB,CAAyB;AACrBC,MAAAA,MAAM,EAAE,QADa;AAErB,eAAS;AAFY,KAAzB;;AAIA,KAAC,GAAGvG,SAAS,CAACmG,IAAd,EAAoB,KAAKvB,aAAL,IAAsB,EAA1C,EAA8C,UAAS4B,CAAT,EAAYnG,GAAZ,EAAiB;AAC3D,OAAC,GAAGZ,SAAS,CAACD,OAAd,EAAuBa,GAAG,CAACgF,SAA3B,EAAsCE,MAAtC,CAA6ClF,GAAG,CAACmC,IAAjD;AACH,KAFD;AAGA,SAAKoC,aAAL,GAAqB,EAArB;AACA,QAAItB,YAAY,GAAG,KAAKE,QAAL,GAAgBG,KAAhB,EAAnB;;AACA,SAAKxB,kBAAL,CAAwBmB,YAAxB;;AACA,SAAKrC,QAAL,CAAcqC,YAAd;AACH,GA3IoC;AA4IrCmD,EAAAA,kBAAkB,EAAE,UAASjE,IAAT,EAAekE,QAAf,EAAyBC,KAAzB,EAAgC;AAChD,QAAI,KAAKpC,WAAL,CAAiB/B,IAAjB,CAAJ,EAA4B;AACxB,WAAKjB,aAAL,CAAmBE,eAAnB;AACH,KAFD,MAEO;AACH,UAAI,KAAKmF,cAAL,CAAoBpE,IAApB,CAAJ,EAA+B;AAC3B,aAAKvB,QAAL,CAAcuB,IAAd,EAAoBkE,QAApB,EAA8BC,KAA9B;AACH,OAFD,MAEO;AACH,aAAK1F,QAAL,CAAcuB,IAAd,EAAoBkE,QAApB,EAA8BC,KAA9B;;AACA,aAAKpF,aAAL,CAAmBE,eAAnB;AACH;AACJ;;AACD,QAAI,eAAeiF,QAAnB,EAA6B;AACzB,WAAKG,OAAL;AACH;AACJ,GA1JoC;AA2JrCtC,EAAAA,WAAW,EAAE,UAASS,QAAT,EAAmB;AAC5B,WAAO,WAAWA,QAAQ,CAAC8B,QAApB,IAAgC,aAAa9B,QAAQ,CAACpC,YAA7D;AACH,GA7JoC;AA8JrCgE,EAAAA,cAAc,EAAE,UAAS5B,QAAT,EAAmB;AAC/B,WAAO,KAAK,CAAL,KAAWA,QAAQ,CAAC8B,QAApB,IAAgC,YAAY9B,QAAQ,CAACpC,YAA5D;AACH,GAhKoC;AAiKrCmE,EAAAA,cAAc,EAAE,UAASC,IAAT,EAAe;AAC3B,QAAIC,IAAI,GAAGD,IAAI,CAACC,IAAhB;AACA,QAAIN,KAAK,GAAGK,IAAI,CAACL,KAAjB;;AACA,YAAQM,IAAR;AACI,WAAK,aAAL;AACI,aAAKC,WAAL;;AACA;;AACJ,WAAK,SAAL;AACI,aAAKjG,QAAL,CAAckG,KAAd,CAAoB,IAApB,EAA0BC,SAA1B;;AACA,aAAK7F,aAAL,CAAmB8F,6BAAnB,CAAiDV,KAAjD;;AACA;;AACJ,WAAK,kBAAL;AACI,aAAKW,iBAAL,CAAuB,cAAvB,EAAuC,KAAKC,YAAL,CAAkBZ,KAAlB,CAAvC;;AACA;;AACJ,WAAK,aAAL;AACI,aAAKW,iBAAL,CAAuBL,IAAvB,EAA6BN,KAA7B;;AACA,aAAK1F,QAAL,CAAckG,KAAd,CAAoB,IAApB,EAA0BC,SAA1B;AACA;;AACJ,WAAK,eAAL;AACI,aAAKE,iBAAL,CAAuB,WAAvB,EAAoCX,KAApC;;AACA;;AACJ;AACI,aAAK1F,QAAL,CAAckG,KAAd,CAAoB,IAApB,EAA0BC,SAA1B;AAnBR;AAqBH,GAzLoC;AA0LrCE,EAAAA,iBAAiB,EAAE,UAASL,IAAT,EAAeN,KAAf,EAAsB;AACrC,SAAKpF,aAAL,CAAmBiG,YAAnB,CAAgCP,IAAhC,EAAsCN,KAAtC;AACH;AA5LoC,CAA3B,CAAd;;AA8LA,CAAC,GAAG/G,sBAAsB,CAACJ,OAA3B,EAAoC,WAApC,EAAiDqB,OAAjD;AACA,IAAI4G,QAAQ,GAAG5G,OAAf;AACAtB,OAAO,CAACC,OAAR,GAAkBiI,QAAlB;AACAC,MAAM,CAACnI,OAAP,GAAiBA,OAAO,CAACC,OAAzB;AACAkI,MAAM,CAACnI,OAAP,CAAeC,OAAf,GAAyBkI,MAAM,CAACnI,OAAhC","sourcesContent":["/**\r\n * DevExtreme (ui/toolbar.js)\r\n * Version: 20.2.6\r\n * Build date: Tue Mar 16 2021\r\n *\r\n * Copyright (c) 2012 - 2021 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\r\n\"use strict\";\r\nexports.default = void 0;\r\nvar _renderer = _interopRequireDefault(require(\"../core/renderer\"));\r\nvar _component_registrator = _interopRequireDefault(require(\"../core/component_registrator\"));\r\nvar _common = require(\"../core/utils/common\");\r\nvar _extend = require(\"../core/utils/extend\");\r\nvar _array = require(\"../core/utils/array\");\r\nvar _iterator = require(\"../core/utils/iterator\");\r\nvar _uiToolbarStrategy = _interopRequireDefault(require(\"./toolbar/ui.toolbar.strategy.action_sheet\"));\r\nvar _uiToolbarStrategy2 = _interopRequireDefault(require(\"./toolbar/ui.toolbar.strategy.drop_down_menu\"));\r\nvar _uiToolbar = _interopRequireDefault(require(\"./toolbar/ui.toolbar.base\"));\r\nvar _child_default_template = require(\"../core/templates/child_default_template\");\r\n\r\nfunction _interopRequireDefault(obj) {\r\n    return obj && obj.__esModule ? obj : {\r\n        \"default\": obj\r\n    }\r\n}\r\nvar STRATEGIES = {\r\n    actionSheet: _uiToolbarStrategy.default,\r\n    dropDownMenu: _uiToolbarStrategy2.default\r\n};\r\nvar TOOLBAR_AUTO_HIDE_ITEM_CLASS = \"dx-toolbar-item-auto-hide\";\r\nvar TOOLBAR_AUTO_HIDE_TEXT_CLASS = \"dx-toolbar-text-auto-hide\";\r\nvar TOOLBAR_HIDDEN_ITEM = \"dx-toolbar-item-invisible\";\r\nvar Toolbar = _uiToolbar.default.inherit({\r\n    _getDefaultOptions: function() {\r\n        return (0, _extend.extend)(this.callBase(), {\r\n            menuItemTemplate: \"menuItem\",\r\n            submenuType: \"dropDownMenu\",\r\n            menuContainer: void 0\r\n        })\r\n    },\r\n    _dimensionChanged: function(dimension) {\r\n        if (\"height\" === dimension) {\r\n            return\r\n        }\r\n        this._menuStrategy.toggleMenuVisibility(false, true);\r\n        this.callBase();\r\n        this._menuStrategy.renderMenuItems()\r\n    },\r\n    _initTemplates: function() {\r\n        this.callBase();\r\n        this._templateManager.addDefaultTemplates({\r\n            actionSheetItem: new _child_default_template.ChildDefaultTemplate(\"item\")\r\n        })\r\n    },\r\n    _initMarkup: function() {\r\n        this.callBase();\r\n        this._renderMenu()\r\n    },\r\n    _postProcessRenderItems: function() {\r\n        var _this = this;\r\n        this._hideOverflowItems();\r\n        this._menuStrategy._updateMenuVisibility();\r\n        this.callBase();\r\n        (0, _common.deferRender)(function() {\r\n            _this._menuStrategy.renderMenuItems()\r\n        })\r\n    },\r\n    _renderItem: function(index, item, itemContainer, $after) {\r\n        var itemElement = this.callBase(index, item, itemContainer, $after);\r\n        if (\"auto\" === item.locateInMenu) {\r\n            itemElement.addClass(TOOLBAR_AUTO_HIDE_ITEM_CLASS)\r\n        }\r\n        if (\"dxButton\" === item.widget && \"inMenu\" === item.showText) {\r\n            itemElement.toggleClass(TOOLBAR_AUTO_HIDE_TEXT_CLASS)\r\n        }\r\n        return itemElement\r\n    },\r\n    _getItemsWidth: function() {\r\n        return this._getSummaryItemsWidth([this._$beforeSection, this._$centerSection, this._$afterSection])\r\n    },\r\n    _hideOverflowItems: function(elementWidth) {\r\n        var overflowItems = this.$element().find(\".\" + TOOLBAR_AUTO_HIDE_ITEM_CLASS);\r\n        if (!overflowItems.length) {\r\n            return\r\n        }\r\n        elementWidth = elementWidth || this.$element().width();\r\n        (0, _renderer.default)(overflowItems).removeClass(TOOLBAR_HIDDEN_ITEM);\r\n        var itemsWidth = this._getItemsWidth();\r\n        while (overflowItems.length && elementWidth < itemsWidth) {\r\n            var $item = overflowItems.eq(-1);\r\n            itemsWidth -= $item.outerWidth();\r\n            $item.addClass(TOOLBAR_HIDDEN_ITEM);\r\n            overflowItems.splice(-1, 1)\r\n        }\r\n    },\r\n    _getMenuItems: function() {\r\n        var that = this;\r\n        var menuItems = (0, _common.grep)(this.option(\"items\") || [], function(item) {\r\n            return that._isMenuItem(item)\r\n        });\r\n        var $hiddenItems = this._itemContainer().children(\".\" + TOOLBAR_AUTO_HIDE_ITEM_CLASS + \".\" + TOOLBAR_HIDDEN_ITEM).not(\".dx-state-invisible\");\r\n        this._restoreItems = this._restoreItems || [];\r\n        var overflowItems = [].slice.call($hiddenItems).map(function(item) {\r\n            var itemData = that._getItemData(item);\r\n            var $itemContainer = (0, _renderer.default)(item).children();\r\n            var $itemMarkup = $itemContainer.children();\r\n            return (0, _extend.extend)({\r\n                menuItemTemplate: function() {\r\n                    that._restoreItems.push({\r\n                        container: $itemContainer,\r\n                        item: $itemMarkup\r\n                    });\r\n                    var $container = (0, _renderer.default)(\"<div>\").addClass(TOOLBAR_AUTO_HIDE_ITEM_CLASS);\r\n                    return $container.append($itemMarkup)\r\n                }\r\n            }, itemData)\r\n        });\r\n        return (0, _array.merge)(overflowItems, menuItems)\r\n    },\r\n    _getToolbarItems: function() {\r\n        var that = this;\r\n        return (0, _common.grep)(this.option(\"items\") || [], function(item) {\r\n            return !that._isMenuItem(item)\r\n        })\r\n    },\r\n    _renderMenu: function() {\r\n        var _this2 = this;\r\n        this._renderMenuStrategy();\r\n        (0, _common.deferRender)(function() {\r\n            _this2._menuStrategy.render()\r\n        })\r\n    },\r\n    _renderMenuStrategy: function() {\r\n        var strategyName = this.option(\"submenuType\");\r\n        if (this._requireDropDownStrategy()) {\r\n            strategyName = \"dropDownMenu\"\r\n        }\r\n        var strategy = STRATEGIES[strategyName];\r\n        if (!(this._menuStrategy && this._menuStrategy.NAME === strategyName)) {\r\n            this._menuStrategy = new strategy(this)\r\n        }\r\n    },\r\n    _requireDropDownStrategy: function() {\r\n        var items = this.option(\"items\") || [];\r\n        var result = false;\r\n        (0, _iterator.each)(items, function(index, item) {\r\n            if (\"auto\" === item.locateInMenu) {\r\n                result = true\r\n            } else {\r\n                if (\"always\" === item.locateInMenu && item.widget) {\r\n                    result = true\r\n                }\r\n            }\r\n        });\r\n        return result\r\n    },\r\n    _arrangeItems: function() {\r\n        if (this.$element().is(\":hidden\")) {\r\n            return\r\n        }\r\n        this._$centerSection.css({\r\n            margin: \"0 auto\",\r\n            \"float\": \"none\"\r\n        });\r\n        (0, _iterator.each)(this._restoreItems || [], function(_, obj) {\r\n            (0, _renderer.default)(obj.container).append(obj.item)\r\n        });\r\n        this._restoreItems = [];\r\n        var elementWidth = this.$element().width();\r\n        this._hideOverflowItems(elementWidth);\r\n        this.callBase(elementWidth)\r\n    },\r\n    _itemOptionChanged: function(item, property, value) {\r\n        if (this._isMenuItem(item)) {\r\n            this._menuStrategy.renderMenuItems()\r\n        } else {\r\n            if (this._isToolbarItem(item)) {\r\n                this.callBase(item, property, value)\r\n            } else {\r\n                this.callBase(item, property, value);\r\n                this._menuStrategy.renderMenuItems()\r\n            }\r\n        }\r\n        if (\"location\" === property) {\r\n            this.repaint()\r\n        }\r\n    },\r\n    _isMenuItem: function(itemData) {\r\n        return \"menu\" === itemData.location || \"always\" === itemData.locateInMenu\r\n    },\r\n    _isToolbarItem: function(itemData) {\r\n        return void 0 === itemData.location || \"never\" === itemData.locateInMenu\r\n    },\r\n    _optionChanged: function(args) {\r\n        var name = args.name;\r\n        var value = args.value;\r\n        switch (name) {\r\n            case \"submenuType\":\r\n                this._invalidate();\r\n                break;\r\n            case \"visible\":\r\n                this.callBase.apply(this, arguments);\r\n                this._menuStrategy.handleToolbarVisibilityChange(value);\r\n                break;\r\n            case \"menuItemTemplate\":\r\n                this._changeMenuOption(\"itemTemplate\", this._getTemplate(value));\r\n                break;\r\n            case \"onItemClick\":\r\n                this._changeMenuOption(name, value);\r\n                this.callBase.apply(this, arguments);\r\n                break;\r\n            case \"menuContainer\":\r\n                this._changeMenuOption(\"container\", value);\r\n                break;\r\n            default:\r\n                this.callBase.apply(this, arguments)\r\n        }\r\n    },\r\n    _changeMenuOption: function(name, value) {\r\n        this._menuStrategy.widgetOption(name, value)\r\n    }\r\n});\r\n(0, _component_registrator.default)(\"dxToolbar\", Toolbar);\r\nvar _default = Toolbar;\r\nexports.default = _default;\r\nmodule.exports = exports.default;\r\nmodule.exports.default = module.exports;\r\n"]},"metadata":{},"sourceType":"script"}