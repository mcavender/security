{"ast":null,"code":"/**\r\n * DevExtreme (ui/grid_core/ui.grid_core.state_storing_core.js)\r\n * Version: 20.2.6\r\n * Build date: Tue Mar 16 2021\r\n *\r\n * Copyright (c) 2012 - 2021 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\n\"use strict\";\n\nexports.StateStoringController = void 0;\n\nvar _events_engine = _interopRequireDefault(require(\"../../events/core/events_engine\"));\n\nvar _window = require(\"../../core/utils/window\");\n\nvar _uiGrid_core = _interopRequireDefault(require(\"./ui.grid_core.modules\"));\n\nvar _ui = _interopRequireDefault(require(\"../widget/ui.errors\"));\n\nvar _browser = _interopRequireDefault(require(\"../../core/utils/browser\"));\n\nvar _storage = require(\"../../core/utils/storage\");\n\nvar _extend = require(\"../../core/utils/extend\");\n\nvar _iterator = require(\"../../core/utils/iterator\");\n\nvar _type = require(\"../../core/utils/type\");\n\nvar _deferred = require(\"../../core/utils/deferred\");\n\nfunction _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : {\n    \"default\": obj\n  };\n}\n\nvar DATE_REGEX = /^(\\d{4})-(\\d{2})-(\\d{2})T(\\d{2}):(\\d{2}):(\\d{2}(?:\\.\\d*)?)Z$/;\n\nvar parseDates = function parseDates(state) {\n  if (!state) {\n    return;\n  }\n\n  (0, _iterator.each)(state, function (key, value) {\n    if ((0, _type.isPlainObject)(value) || Array.isArray(value)) {\n      parseDates(value);\n    } else {\n      if (\"string\" === typeof value) {\n        var date = DATE_REGEX.exec(value);\n\n        if (date) {\n          state[key] = new Date(Date.UTC(+date[1], +date[2] - 1, +date[3], +date[4], +date[5], +date[6]));\n        }\n      }\n    }\n  });\n};\n\nvar StateStoringController = _uiGrid_core.default.ViewController.inherit(function () {\n  var getStorage = function (options) {\n    var storage = \"sessionStorage\" === options.type ? (0, _storage.sessionStorage)() : (0, _window.getWindow)().localStorage;\n\n    if (!storage) {\n      if (\"file:\" === (0, _window.getWindow)().location.protocol && _browser.default.msie) {\n        throw new Error(\"E1038\");\n      } else {\n        throw new Error(\"E1007\");\n      }\n    }\n\n    return storage;\n  };\n\n  var getUniqueStorageKey = function (options) {\n    return (0, _type.isDefined)(options.storageKey) ? options.storageKey : \"storage\";\n  };\n\n  return {\n    _loadState: function () {\n      var options = this.option(\"stateStoring\");\n\n      if (\"custom\" === options.type) {\n        return options.customLoad && options.customLoad();\n      }\n\n      try {\n        return JSON.parse(getStorage(options).getItem(getUniqueStorageKey(options)));\n      } catch (e) {\n        _ui.default.log(e.message);\n      }\n    },\n    _saveState: function (state) {\n      var options = this.option(\"stateStoring\");\n\n      if (\"custom\" === options.type) {\n        options.customSave && options.customSave(state);\n        return;\n      }\n\n      try {\n        getStorage(options).setItem(getUniqueStorageKey(options), JSON.stringify(state));\n      } catch (e) {\n        _ui.default.log(e.message);\n      }\n    },\n    publicMethods: function () {\n      return [\"state\"];\n    },\n    isEnabled: function () {\n      return this.option(\"stateStoring.enabled\");\n    },\n    init: function () {\n      var that = this;\n      that._state = {};\n      that._isLoaded = false;\n      that._isLoading = false;\n\n      that._windowUnloadHandler = function () {\n        if (void 0 !== that._savingTimeoutID) {\n          that._saveState(that.state());\n        }\n      };\n\n      _events_engine.default.on((0, _window.getWindow)(), \"unload\", that._windowUnloadHandler);\n\n      return that;\n    },\n    isLoaded: function () {\n      return this._isLoaded;\n    },\n    isLoading: function () {\n      return this._isLoading;\n    },\n    load: function () {\n      var _this = this;\n\n      this._isLoading = true;\n      var loadResult = (0, _deferred.fromPromise)(this._loadState());\n      loadResult.always(function () {\n        _this._isLoaded = true;\n        _this._isLoading = false;\n      }).done(function (state) {\n        _this.state(state);\n      });\n      return loadResult;\n    },\n    state: function (_state) {\n      var that = this;\n\n      if (!arguments.length) {\n        return (0, _extend.extend)(true, {}, that._state);\n      } else {\n        that._state = (0, _extend.extend)({}, _state);\n        parseDates(that._state);\n      }\n    },\n    save: function () {\n      var that = this;\n      clearTimeout(that._savingTimeoutID);\n      that._savingTimeoutID = setTimeout(function () {\n        that._saveState(that.state());\n\n        that._savingTimeoutID = void 0;\n      }, that.option(\"stateStoring.savingTimeout\"));\n    },\n    optionChanged: function (args) {\n      var that = this;\n\n      switch (args.name) {\n        case \"stateStoring\":\n          if (that.isEnabled() && !that.isLoading()) {\n            that.load();\n          }\n\n          args.handled = true;\n          break;\n\n        default:\n          that.callBase(args);\n      }\n    },\n    dispose: function () {\n      clearTimeout(this._savingTimeoutID);\n\n      _events_engine.default.off((0, _window.getWindow)(), \"unload\", this._windowUnloadHandler);\n    }\n  };\n}());\n\nexports.StateStoringController = StateStoringController;","map":{"version":3,"sources":["C:/Users/CapiniaC/Desktop/Collection/Work/project/security/node_modules/devextreme/ui/grid_core/ui.grid_core.state_storing_core.js"],"names":["exports","StateStoringController","_events_engine","_interopRequireDefault","require","_window","_uiGrid_core","_ui","_browser","_storage","_extend","_iterator","_type","_deferred","obj","__esModule","DATE_REGEX","parseDates","state","each","key","value","isPlainObject","Array","isArray","date","exec","Date","UTC","default","ViewController","inherit","getStorage","options","storage","type","sessionStorage","getWindow","localStorage","location","protocol","msie","Error","getUniqueStorageKey","isDefined","storageKey","_loadState","option","customLoad","JSON","parse","getItem","e","log","message","_saveState","customSave","setItem","stringify","publicMethods","isEnabled","init","that","_state","_isLoaded","_isLoading","_windowUnloadHandler","_savingTimeoutID","on","isLoaded","isLoading","load","_this","loadResult","fromPromise","always","done","arguments","length","extend","save","clearTimeout","setTimeout","optionChanged","args","name","handled","callBase","dispose","off"],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AACAA,OAAO,CAACC,sBAAR,GAAiC,KAAK,CAAtC;;AACA,IAAIC,cAAc,GAAGC,sBAAsB,CAACC,OAAO,CAAC,iCAAD,CAAR,CAA3C;;AACA,IAAIC,OAAO,GAAGD,OAAO,CAAC,yBAAD,CAArB;;AACA,IAAIE,YAAY,GAAGH,sBAAsB,CAACC,OAAO,CAAC,wBAAD,CAAR,CAAzC;;AACA,IAAIG,GAAG,GAAGJ,sBAAsB,CAACC,OAAO,CAAC,qBAAD,CAAR,CAAhC;;AACA,IAAII,QAAQ,GAAGL,sBAAsB,CAACC,OAAO,CAAC,0BAAD,CAAR,CAArC;;AACA,IAAIK,QAAQ,GAAGL,OAAO,CAAC,0BAAD,CAAtB;;AACA,IAAIM,OAAO,GAAGN,OAAO,CAAC,yBAAD,CAArB;;AACA,IAAIO,SAAS,GAAGP,OAAO,CAAC,2BAAD,CAAvB;;AACA,IAAIQ,KAAK,GAAGR,OAAO,CAAC,uBAAD,CAAnB;;AACA,IAAIS,SAAS,GAAGT,OAAO,CAAC,2BAAD,CAAvB;;AAEA,SAASD,sBAAT,CAAgCW,GAAhC,EAAqC;AACjC,SAAOA,GAAG,IAAIA,GAAG,CAACC,UAAX,GAAwBD,GAAxB,GAA8B;AACjC,eAAWA;AADsB,GAArC;AAGH;;AACD,IAAIE,UAAU,GAAG,8DAAjB;;AACA,IAAIC,UAAU,GAAG,SAASA,UAAT,CAAoBC,KAApB,EAA2B;AACxC,MAAI,CAACA,KAAL,EAAY;AACR;AACH;;AAAA,GAAC,GAAGP,SAAS,CAACQ,IAAd,EAAoBD,KAApB,EAA2B,UAASE,GAAT,EAAcC,KAAd,EAAqB;AAC7C,QAAI,CAAC,GAAGT,KAAK,CAACU,aAAV,EAAyBD,KAAzB,KAAmCE,KAAK,CAACC,OAAN,CAAcH,KAAd,CAAvC,EAA6D;AACzDJ,MAAAA,UAAU,CAACI,KAAD,CAAV;AACH,KAFD,MAEO;AACH,UAAI,aAAa,OAAOA,KAAxB,EAA+B;AAC3B,YAAII,IAAI,GAAGT,UAAU,CAACU,IAAX,CAAgBL,KAAhB,CAAX;;AACA,YAAII,IAAJ,EAAU;AACNP,UAAAA,KAAK,CAACE,GAAD,CAAL,GAAa,IAAIO,IAAJ,CAASA,IAAI,CAACC,GAAL,CAAS,CAACH,IAAI,CAAC,CAAD,CAAd,EAAmB,CAACA,IAAI,CAAC,CAAD,CAAL,GAAW,CAA9B,EAAiC,CAACA,IAAI,CAAC,CAAD,CAAtC,EAA2C,CAACA,IAAI,CAAC,CAAD,CAAhD,EAAqD,CAACA,IAAI,CAAC,CAAD,CAA1D,EAA+D,CAACA,IAAI,CAAC,CAAD,CAApE,CAAT,CAAb;AACH;AACJ;AACJ;AACJ,GAXA;AAYJ,CAfD;;AAgBA,IAAIxB,sBAAsB,GAAGK,YAAY,CAACuB,OAAb,CAAqBC,cAArB,CAAoCC,OAApC,CAA4C,YAAW;AAChF,MAAIC,UAAU,GAAG,UAASC,OAAT,EAAkB;AAC/B,QAAIC,OAAO,GAAG,qBAAqBD,OAAO,CAACE,IAA7B,GAAoC,CAAC,GAAG1B,QAAQ,CAAC2B,cAAb,GAApC,GAAqE,CAAC,GAAG/B,OAAO,CAACgC,SAAZ,IAAyBC,YAA5G;;AACA,QAAI,CAACJ,OAAL,EAAc;AACV,UAAI,YAAY,CAAC,GAAG7B,OAAO,CAACgC,SAAZ,IAAyBE,QAAzB,CAAkCC,QAA9C,IAA0DhC,QAAQ,CAACqB,OAAT,CAAiBY,IAA/E,EAAqF;AACjF,cAAM,IAAIC,KAAJ,CAAU,OAAV,CAAN;AACH,OAFD,MAEO;AACH,cAAM,IAAIA,KAAJ,CAAU,OAAV,CAAN;AACH;AACJ;;AACD,WAAOR,OAAP;AACH,GAVD;;AAWA,MAAIS,mBAAmB,GAAG,UAASV,OAAT,EAAkB;AACxC,WAAO,CAAC,GAAGrB,KAAK,CAACgC,SAAV,EAAqBX,OAAO,CAACY,UAA7B,IAA2CZ,OAAO,CAACY,UAAnD,GAAgE,SAAvE;AACH,GAFD;;AAGA,SAAO;AACHC,IAAAA,UAAU,EAAE,YAAW;AACnB,UAAIb,OAAO,GAAG,KAAKc,MAAL,CAAY,cAAZ,CAAd;;AACA,UAAI,aAAad,OAAO,CAACE,IAAzB,EAA+B;AAC3B,eAAOF,OAAO,CAACe,UAAR,IAAsBf,OAAO,CAACe,UAAR,EAA7B;AACH;;AACD,UAAI;AACA,eAAOC,IAAI,CAACC,KAAL,CAAWlB,UAAU,CAACC,OAAD,CAAV,CAAoBkB,OAApB,CAA4BR,mBAAmB,CAACV,OAAD,CAA/C,CAAX,CAAP;AACH,OAFD,CAEE,OAAOmB,CAAP,EAAU;AACR7C,QAAAA,GAAG,CAACsB,OAAJ,CAAYwB,GAAZ,CAAgBD,CAAC,CAACE,OAAlB;AACH;AACJ,KAXE;AAYHC,IAAAA,UAAU,EAAE,UAASrC,KAAT,EAAgB;AACxB,UAAIe,OAAO,GAAG,KAAKc,MAAL,CAAY,cAAZ,CAAd;;AACA,UAAI,aAAad,OAAO,CAACE,IAAzB,EAA+B;AAC3BF,QAAAA,OAAO,CAACuB,UAAR,IAAsBvB,OAAO,CAACuB,UAAR,CAAmBtC,KAAnB,CAAtB;AACA;AACH;;AACD,UAAI;AACAc,QAAAA,UAAU,CAACC,OAAD,CAAV,CAAoBwB,OAApB,CAA4Bd,mBAAmB,CAACV,OAAD,CAA/C,EAA0DgB,IAAI,CAACS,SAAL,CAAexC,KAAf,CAA1D;AACH,OAFD,CAEE,OAAOkC,CAAP,EAAU;AACR7C,QAAAA,GAAG,CAACsB,OAAJ,CAAYwB,GAAZ,CAAgBD,CAAC,CAACE,OAAlB;AACH;AACJ,KAvBE;AAwBHK,IAAAA,aAAa,EAAE,YAAW;AACtB,aAAO,CAAC,OAAD,CAAP;AACH,KA1BE;AA2BHC,IAAAA,SAAS,EAAE,YAAW;AAClB,aAAO,KAAKb,MAAL,CAAY,sBAAZ,CAAP;AACH,KA7BE;AA8BHc,IAAAA,IAAI,EAAE,YAAW;AACb,UAAIC,IAAI,GAAG,IAAX;AACAA,MAAAA,IAAI,CAACC,MAAL,GAAc,EAAd;AACAD,MAAAA,IAAI,CAACE,SAAL,GAAiB,KAAjB;AACAF,MAAAA,IAAI,CAACG,UAAL,GAAkB,KAAlB;;AACAH,MAAAA,IAAI,CAACI,oBAAL,GAA4B,YAAW;AACnC,YAAI,KAAK,CAAL,KAAWJ,IAAI,CAACK,gBAApB,EAAsC;AAClCL,UAAAA,IAAI,CAACP,UAAL,CAAgBO,IAAI,CAAC5C,KAAL,EAAhB;AACH;AACJ,OAJD;;AAKAhB,MAAAA,cAAc,CAAC2B,OAAf,CAAuBuC,EAAvB,CAA0B,CAAC,GAAG/D,OAAO,CAACgC,SAAZ,GAA1B,EAAoD,QAApD,EAA8DyB,IAAI,CAACI,oBAAnE;;AACA,aAAOJ,IAAP;AACH,KA1CE;AA2CHO,IAAAA,QAAQ,EAAE,YAAW;AACjB,aAAO,KAAKL,SAAZ;AACH,KA7CE;AA8CHM,IAAAA,SAAS,EAAE,YAAW;AAClB,aAAO,KAAKL,UAAZ;AACH,KAhDE;AAiDHM,IAAAA,IAAI,EAAE,YAAW;AACb,UAAIC,KAAK,GAAG,IAAZ;;AACA,WAAKP,UAAL,GAAkB,IAAlB;AACA,UAAIQ,UAAU,GAAG,CAAC,GAAG5D,SAAS,CAAC6D,WAAd,EAA2B,KAAK5B,UAAL,EAA3B,CAAjB;AACA2B,MAAAA,UAAU,CAACE,MAAX,CAAkB,YAAW;AACzBH,QAAAA,KAAK,CAACR,SAAN,GAAkB,IAAlB;AACAQ,QAAAA,KAAK,CAACP,UAAN,GAAmB,KAAnB;AACH,OAHD,EAGGW,IAHH,CAGQ,UAAS1D,KAAT,EAAgB;AACpBsD,QAAAA,KAAK,CAACtD,KAAN,CAAYA,KAAZ;AACH,OALD;AAMA,aAAOuD,UAAP;AACH,KA5DE;AA6DHvD,IAAAA,KAAK,EAAE,UAAS6C,MAAT,EAAiB;AACpB,UAAID,IAAI,GAAG,IAAX;;AACA,UAAI,CAACe,SAAS,CAACC,MAAf,EAAuB;AACnB,eAAO,CAAC,GAAGpE,OAAO,CAACqE,MAAZ,EAAoB,IAApB,EAA0B,EAA1B,EAA8BjB,IAAI,CAACC,MAAnC,CAAP;AACH,OAFD,MAEO;AACHD,QAAAA,IAAI,CAACC,MAAL,GAAc,CAAC,GAAGrD,OAAO,CAACqE,MAAZ,EAAoB,EAApB,EAAwBhB,MAAxB,CAAd;AACA9C,QAAAA,UAAU,CAAC6C,IAAI,CAACC,MAAN,CAAV;AACH;AACJ,KArEE;AAsEHiB,IAAAA,IAAI,EAAE,YAAW;AACb,UAAIlB,IAAI,GAAG,IAAX;AACAmB,MAAAA,YAAY,CAACnB,IAAI,CAACK,gBAAN,CAAZ;AACAL,MAAAA,IAAI,CAACK,gBAAL,GAAwBe,UAAU,CAAC,YAAW;AAC1CpB,QAAAA,IAAI,CAACP,UAAL,CAAgBO,IAAI,CAAC5C,KAAL,EAAhB;;AACA4C,QAAAA,IAAI,CAACK,gBAAL,GAAwB,KAAK,CAA7B;AACH,OAHiC,EAG/BL,IAAI,CAACf,MAAL,CAAY,4BAAZ,CAH+B,CAAlC;AAIH,KA7EE;AA8EHoC,IAAAA,aAAa,EAAE,UAASC,IAAT,EAAe;AAC1B,UAAItB,IAAI,GAAG,IAAX;;AACA,cAAQsB,IAAI,CAACC,IAAb;AACI,aAAK,cAAL;AACI,cAAIvB,IAAI,CAACF,SAAL,MAAoB,CAACE,IAAI,CAACQ,SAAL,EAAzB,EAA2C;AACvCR,YAAAA,IAAI,CAACS,IAAL;AACH;;AACDa,UAAAA,IAAI,CAACE,OAAL,GAAe,IAAf;AACA;;AACJ;AACIxB,UAAAA,IAAI,CAACyB,QAAL,CAAcH,IAAd;AARR;AAUH,KA1FE;AA2FHI,IAAAA,OAAO,EAAE,YAAW;AAChBP,MAAAA,YAAY,CAAC,KAAKd,gBAAN,CAAZ;;AACAjE,MAAAA,cAAc,CAAC2B,OAAf,CAAuB4D,GAAvB,CAA2B,CAAC,GAAGpF,OAAO,CAACgC,SAAZ,GAA3B,EAAqD,QAArD,EAA+D,KAAK6B,oBAApE;AACH;AA9FE,GAAP;AAgGH,CA/GwE,EAA5C,CAA7B;;AAgHAlE,OAAO,CAACC,sBAAR,GAAiCA,sBAAjC","sourcesContent":["/**\r\n * DevExtreme (ui/grid_core/ui.grid_core.state_storing_core.js)\r\n * Version: 20.2.6\r\n * Build date: Tue Mar 16 2021\r\n *\r\n * Copyright (c) 2012 - 2021 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\r\n\"use strict\";\r\nexports.StateStoringController = void 0;\r\nvar _events_engine = _interopRequireDefault(require(\"../../events/core/events_engine\"));\r\nvar _window = require(\"../../core/utils/window\");\r\nvar _uiGrid_core = _interopRequireDefault(require(\"./ui.grid_core.modules\"));\r\nvar _ui = _interopRequireDefault(require(\"../widget/ui.errors\"));\r\nvar _browser = _interopRequireDefault(require(\"../../core/utils/browser\"));\r\nvar _storage = require(\"../../core/utils/storage\");\r\nvar _extend = require(\"../../core/utils/extend\");\r\nvar _iterator = require(\"../../core/utils/iterator\");\r\nvar _type = require(\"../../core/utils/type\");\r\nvar _deferred = require(\"../../core/utils/deferred\");\r\n\r\nfunction _interopRequireDefault(obj) {\r\n    return obj && obj.__esModule ? obj : {\r\n        \"default\": obj\r\n    }\r\n}\r\nvar DATE_REGEX = /^(\\d{4})-(\\d{2})-(\\d{2})T(\\d{2}):(\\d{2}):(\\d{2}(?:\\.\\d*)?)Z$/;\r\nvar parseDates = function parseDates(state) {\r\n    if (!state) {\r\n        return\r\n    }(0, _iterator.each)(state, function(key, value) {\r\n        if ((0, _type.isPlainObject)(value) || Array.isArray(value)) {\r\n            parseDates(value)\r\n        } else {\r\n            if (\"string\" === typeof value) {\r\n                var date = DATE_REGEX.exec(value);\r\n                if (date) {\r\n                    state[key] = new Date(Date.UTC(+date[1], +date[2] - 1, +date[3], +date[4], +date[5], +date[6]))\r\n                }\r\n            }\r\n        }\r\n    })\r\n};\r\nvar StateStoringController = _uiGrid_core.default.ViewController.inherit(function() {\r\n    var getStorage = function(options) {\r\n        var storage = \"sessionStorage\" === options.type ? (0, _storage.sessionStorage)() : (0, _window.getWindow)().localStorage;\r\n        if (!storage) {\r\n            if (\"file:\" === (0, _window.getWindow)().location.protocol && _browser.default.msie) {\r\n                throw new Error(\"E1038\")\r\n            } else {\r\n                throw new Error(\"E1007\")\r\n            }\r\n        }\r\n        return storage\r\n    };\r\n    var getUniqueStorageKey = function(options) {\r\n        return (0, _type.isDefined)(options.storageKey) ? options.storageKey : \"storage\"\r\n    };\r\n    return {\r\n        _loadState: function() {\r\n            var options = this.option(\"stateStoring\");\r\n            if (\"custom\" === options.type) {\r\n                return options.customLoad && options.customLoad()\r\n            }\r\n            try {\r\n                return JSON.parse(getStorage(options).getItem(getUniqueStorageKey(options)))\r\n            } catch (e) {\r\n                _ui.default.log(e.message)\r\n            }\r\n        },\r\n        _saveState: function(state) {\r\n            var options = this.option(\"stateStoring\");\r\n            if (\"custom\" === options.type) {\r\n                options.customSave && options.customSave(state);\r\n                return\r\n            }\r\n            try {\r\n                getStorage(options).setItem(getUniqueStorageKey(options), JSON.stringify(state))\r\n            } catch (e) {\r\n                _ui.default.log(e.message)\r\n            }\r\n        },\r\n        publicMethods: function() {\r\n            return [\"state\"]\r\n        },\r\n        isEnabled: function() {\r\n            return this.option(\"stateStoring.enabled\")\r\n        },\r\n        init: function() {\r\n            var that = this;\r\n            that._state = {};\r\n            that._isLoaded = false;\r\n            that._isLoading = false;\r\n            that._windowUnloadHandler = function() {\r\n                if (void 0 !== that._savingTimeoutID) {\r\n                    that._saveState(that.state())\r\n                }\r\n            };\r\n            _events_engine.default.on((0, _window.getWindow)(), \"unload\", that._windowUnloadHandler);\r\n            return that\r\n        },\r\n        isLoaded: function() {\r\n            return this._isLoaded\r\n        },\r\n        isLoading: function() {\r\n            return this._isLoading\r\n        },\r\n        load: function() {\r\n            var _this = this;\r\n            this._isLoading = true;\r\n            var loadResult = (0, _deferred.fromPromise)(this._loadState());\r\n            loadResult.always(function() {\r\n                _this._isLoaded = true;\r\n                _this._isLoading = false\r\n            }).done(function(state) {\r\n                _this.state(state)\r\n            });\r\n            return loadResult\r\n        },\r\n        state: function(_state) {\r\n            var that = this;\r\n            if (!arguments.length) {\r\n                return (0, _extend.extend)(true, {}, that._state)\r\n            } else {\r\n                that._state = (0, _extend.extend)({}, _state);\r\n                parseDates(that._state)\r\n            }\r\n        },\r\n        save: function() {\r\n            var that = this;\r\n            clearTimeout(that._savingTimeoutID);\r\n            that._savingTimeoutID = setTimeout(function() {\r\n                that._saveState(that.state());\r\n                that._savingTimeoutID = void 0\r\n            }, that.option(\"stateStoring.savingTimeout\"))\r\n        },\r\n        optionChanged: function(args) {\r\n            var that = this;\r\n            switch (args.name) {\r\n                case \"stateStoring\":\r\n                    if (that.isEnabled() && !that.isLoading()) {\r\n                        that.load()\r\n                    }\r\n                    args.handled = true;\r\n                    break;\r\n                default:\r\n                    that.callBase(args)\r\n            }\r\n        },\r\n        dispose: function() {\r\n            clearTimeout(this._savingTimeoutID);\r\n            _events_engine.default.off((0, _window.getWindow)(), \"unload\", this._windowUnloadHandler)\r\n        }\r\n    }\r\n}());\r\nexports.StateStoringController = StateStoringController;\r\n"]},"metadata":{},"sourceType":"script"}