{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\CapiniaC\\\\Desktop\\\\Collection\\\\Work\\\\project\\\\security\\\\AdminApp\\\\src\\\\components\\\\pages\\\\viprpit\\\\Vipr-Pit.js\";\nimport React, { useState, useEffect } from 'react';\nimport PageHeader from \"../home/PageHeader\";\nimport PeopleOutlineTwoToneIcon from '@material-ui/icons/PeopleOutlineTwoTone';\nimport { Paper, makeStyles, TableBody, TableRow, Toolbar, InputAdornment, TableCell } from '@material-ui/core';\nimport useTable from \"../../controls/useTable\";\nimport Controls from \"../../controls/Controls\";\nimport Popup from \"../../controls/Popup\";\nimport { Search } from \"@material-ui/icons\";\nimport AddIcon from '@material-ui/icons/Add';\nimport EditOutlinedIcon from '@material-ui/icons/EditOutlined';\nimport CloseIcon from '@material-ui/icons/Close';\nimport InterceptsService from '../../../services/InterceptsService';\nconst useStyles = makeStyles(theme => ({\n  pageContent: {\n    margin: theme.spacing(5),\n    padding: theme.spacing(3)\n  },\n  searchInput: {\n    width: '75%'\n  },\n  newButton: {\n    position: 'absolute',\n    right: '10px'\n  }\n}));\nconst headCells = [{\n  id: 'elnot',\n  label: 'Elnot',\n  width: 70\n}, {\n  id: 'rf1',\n  label: 'RF1',\n  width: 130\n}, {\n  id: 'rf2',\n  label: 'RF2',\n  width: 130\n}, {\n  id: 'rf3',\n  label: 'RF3',\n  width: 150\n}, {\n  id: 'pri1',\n  label: 'PRI1',\n  width: 130\n}, {\n  id: 'pri2',\n  label: 'PRI2',\n  width: 130\n}, {\n  id: 'pri3',\n  label: 'PRI3',\n  width: 130\n}, {\n  id: 'pd',\n  label: 'PD',\n  width: 130\n}, {\n  id: 'scan_type',\n  label: 'Scan Type',\n  width: 130\n}, {\n  id: 'ir',\n  label: 'IR',\n  width: 150\n}, {\n  id: 'scan_period',\n  label: 'Scan Period',\n  width: 130\n}, {\n  id: 'mod_type',\n  label: 'Mod Type',\n  width: 130\n}, {\n  id: 'actions',\n  label: 'Actions'\n}];\nexport default function ViprPitComponent() {\n  const classes = useStyles();\n  const [recordForEdit, setRecordForEdit] = useState(null);\n  const [records, setRecords] = useState([]);\n  const [filterFn, setFilterFn] = useState({\n    fn: items => {\n      return items;\n    }\n  });\n  const [openPopup, setOpenPopup] = useState(false);\n  useEffect(() => {\n    InterceptsService.getIntercepts().then(response => {\n      setRecords(response.data);\n    });\n  }, []);\n  const {\n    TblContainer,\n    TblHead,\n    TblPagination,\n    recordsAfterPagingAndSorting\n  } = useTable(records, headCells, filterFn);\n\n  const handleSearch = e => {\n    let target = e.target;\n    setFilterFn({\n      fn: items => {\n        if (target.value === \"\") return items;else return items.filter(x => x.elnot.toLowerCase().includes(target.value));\n      }\n    });\n  };\n\n  const addOrEdit = (intercepts, resetForm) => {\n    if (intercepts.elnot === 0) InterceptsService.addIntercepts(intercepts);else InterceptsService.updateIntercepts(intercepts);\n    resetForm();\n    setRecordForEdit(null);\n    setOpenPopup(false);\n    setRecords(InterceptsService.getintercepts());\n  };\n\n  const openInPopup = item => {\n    setRecordForEdit(item);\n    setOpenPopup(true);\n  };\n\n  return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(PageHeader, {\n    title: \"Intercepts\",\n    subTitle: \"Test Subtitle\",\n    icon: /*#__PURE__*/React.createElement(PeopleOutlineTwoToneIcon, {\n      fontSize: \"large\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 101,\n        columnNumber: 23\n      }\n    }),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 98,\n      columnNumber: 13\n    }\n  }), /*#__PURE__*/React.createElement(Paper, {\n    className: classes.pageContent,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 103,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(Toolbar, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 104,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(Controls.Input, {\n    label: \"Search Users\",\n    className: classes.searchInput,\n    InputProps: {\n      startAdornment: /*#__PURE__*/React.createElement(InputAdornment, {\n        position: \"start\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 109,\n          columnNumber: 46\n        }\n      }, /*#__PURE__*/React.createElement(Search, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 110,\n          columnNumber: 33\n        }\n      }))\n    },\n    onChange: handleSearch,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 105,\n      columnNumber: 21\n    }\n  }), /*#__PURE__*/React.createElement(Controls.Button, {\n    text: \"Add New\",\n    variant: \"outlined\",\n    startIcon: /*#__PURE__*/React.createElement(AddIcon, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 118,\n        columnNumber: 36\n      }\n    }),\n    className: classes.newButton,\n    onClick: () => {\n      setOpenPopup(true);\n      setRecordForEdit(null);\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 115,\n      columnNumber: 21\n    }\n  })), /*#__PURE__*/React.createElement(TblContainer, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 123,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(TblHead, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 124,\n      columnNumber: 21\n    }\n  }), /*#__PURE__*/React.createElement(TableBody, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 125,\n      columnNumber: 21\n    }\n  }, recordsAfterPagingAndSorting(records).map(item => /*#__PURE__*/React.createElement(TableRow, {\n    key: item.elnot,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 128,\n      columnNumber: 34\n    }\n  }, /*#__PURE__*/React.createElement(TableCell, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 129,\n      columnNumber: 37\n    }\n  }, item.elnot), /*#__PURE__*/React.createElement(TableCell, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 130,\n      columnNumber: 37\n    }\n  }, item.rf1), /*#__PURE__*/React.createElement(TableCell, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 131,\n      columnNumber: 37\n    }\n  }, item.rf2), /*#__PURE__*/React.createElement(TableCell, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 132,\n      columnNumber: 37\n    }\n  }, item.rf3), /*#__PURE__*/React.createElement(TableCell, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 133,\n      columnNumber: 37\n    }\n  }, item.pri1), /*#__PURE__*/React.createElement(TableCell, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 134,\n      columnNumber: 37\n    }\n  }, item.pri2), /*#__PURE__*/React.createElement(TableCell, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 135,\n      columnNumber: 37\n    }\n  }, /*#__PURE__*/React.createElement(Controls.ActionButton, {\n    color: \"primary\",\n    onClick: () => {\n      openInPopup(item);\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 136,\n      columnNumber: 41\n    }\n  }, /*#__PURE__*/React.createElement(EditOutlinedIcon, {\n    fontSize: \"small\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 139,\n      columnNumber: 45\n    }\n  })), /*#__PURE__*/React.createElement(Controls.ActionButton, {\n    color: \"secondary\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 141,\n      columnNumber: 41\n    }\n  }, /*#__PURE__*/React.createElement(CloseIcon, {\n    fontSize: \"small\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 143,\n      columnNumber: 45\n    }\n  }))))))), /*#__PURE__*/React.createElement(TblPagination, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 151,\n      columnNumber: 17\n    }\n  })), /*#__PURE__*/React.createElement(Popup, {\n    title: \"User Form\",\n    openPopup: openPopup,\n    setOpenPopup: setOpenPopup,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 153,\n      columnNumber: 13\n    }\n  }));\n}","map":{"version":3,"sources":["C:/Users/CapiniaC/Desktop/Collection/Work/project/security/AdminApp/src/components/pages/viprpit/Vipr-Pit.js"],"names":["React","useState","useEffect","PageHeader","PeopleOutlineTwoToneIcon","Paper","makeStyles","TableBody","TableRow","Toolbar","InputAdornment","TableCell","useTable","Controls","Popup","Search","AddIcon","EditOutlinedIcon","CloseIcon","InterceptsService","useStyles","theme","pageContent","margin","spacing","padding","searchInput","width","newButton","position","right","headCells","id","label","ViprPitComponent","classes","recordForEdit","setRecordForEdit","records","setRecords","filterFn","setFilterFn","fn","items","openPopup","setOpenPopup","getIntercepts","then","response","data","TblContainer","TblHead","TblPagination","recordsAfterPagingAndSorting","handleSearch","e","target","value","filter","x","elnot","toLowerCase","includes","addOrEdit","intercepts","resetForm","addIntercepts","updateIntercepts","getintercepts","openInPopup","item","startAdornment","map","rf1","rf2","rf3","pri1","pri2"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from 'react'\r\nimport PageHeader from \"../home/PageHeader\";\r\nimport PeopleOutlineTwoToneIcon from '@material-ui/icons/PeopleOutlineTwoTone';\r\nimport { Paper, makeStyles, TableBody, TableRow, Toolbar, InputAdornment, TableCell } from '@material-ui/core';\r\nimport useTable from \"../../controls/useTable\";\r\nimport Controls from \"../../controls/Controls\";\r\nimport Popup from \"../../controls/Popup\";\r\nimport { Search } from \"@material-ui/icons\";\r\nimport AddIcon from '@material-ui/icons/Add';\r\nimport EditOutlinedIcon from '@material-ui/icons/EditOutlined';\r\nimport CloseIcon from '@material-ui/icons/Close';\r\n\r\nimport InterceptsService from '../../../services/InterceptsService';\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n    pageContent: {\r\n        margin: theme.spacing(5),\r\n        padding: theme.spacing(3)\r\n    },\r\n    searchInput: {\r\n        width: '75%'\r\n    },\r\n    newButton: {\r\n        position: 'absolute',\r\n        right: '10px'\r\n    }\r\n}))\r\n\r\n\r\nconst headCells = [\r\n    { id: 'elnot', label: 'Elnot', width: 70 },\r\n    { id: 'rf1', label: 'RF1', width: 130 },\r\n    { id: 'rf2', label: 'RF2', width: 130 },\r\n    { id: 'rf3', label: 'RF3', width: 150 },\r\n    { id: 'pri1', label: 'PRI1', width: 130 },\r\n    { id: 'pri2', label: 'PRI2', width: 130 },\r\n    { id: 'pri3', label: 'PRI3', width: 130},\r\n    { id: 'pd', label: 'PD', width: 130 },\r\n    { id: 'scan_type', label: 'Scan Type', width: 130 },\r\n    { id: 'ir', label: 'IR', width: 150 },\r\n    { id: 'scan_period', label: 'Scan Period', width: 130 },\r\n    { id: 'mod_type', label: 'Mod Type', width: 130 },\r\n    { id: 'actions', label: 'Actions'}\r\n]\r\n\r\nexport default function ViprPitComponent() {\r\n\r\n    const classes = useStyles();\r\n    const [recordForEdit, setRecordForEdit] = useState(null)\r\n    const [records, setRecords] = useState([])\r\n    const [filterFn, setFilterFn] = useState({ fn: items => { return items; } })\r\n    const [openPopup, setOpenPopup] = useState(false)\r\n\r\n    useEffect(() => {\r\n        InterceptsService.getIntercepts()\r\n        .then(response => {\r\n          setRecords(response.data);\r\n        })\r\n    }, []);\r\n\r\n    const {\r\n        TblContainer,\r\n        TblHead,\r\n        TblPagination,\r\n        recordsAfterPagingAndSorting\r\n    } = useTable(records, headCells, filterFn);\r\n\r\n    const handleSearch = e => {\r\n        let target = e.target;\r\n        setFilterFn({\r\n            fn: items => {\r\n                if (target.value === \"\")\r\n                    return items;\r\n                else\r\n                    return items.filter(x => x.elnot.toLowerCase().includes(target.value))\r\n            }\r\n        })\r\n    }\r\n    \r\n    const addOrEdit = (intercepts, resetForm) => {\r\n        if (intercepts.elnot === 0)\r\n        InterceptsService.addIntercepts(intercepts)\r\n        else\r\n        InterceptsService.updateIntercepts(intercepts)\r\n        resetForm()\r\n        setRecordForEdit(null)\r\n        setOpenPopup(false)\r\n        setRecords(InterceptsService.getintercepts())\r\n    }\r\n\r\n    const openInPopup = item => {\r\n        setRecordForEdit(item)\r\n        setOpenPopup(true)\r\n    }\r\n    \r\n    return (\r\n        <>\r\n            <PageHeader\r\n                title=\"Intercepts\"\r\n                subTitle=\"Test Subtitle\"\r\n                icon={<PeopleOutlineTwoToneIcon fontSize=\"large\" />}\r\n            />\r\n            <Paper className={classes.pageContent}>\r\n                <Toolbar>\r\n                    <Controls.Input\r\n                        label=\"Search Users\"\r\n                        className={classes.searchInput}\r\n                        InputProps={{\r\n                            startAdornment: (<InputAdornment position=\"start\">\r\n                                <Search />\r\n                            </InputAdornment>)\r\n                        }}\r\n                        onChange={handleSearch}\r\n                    />\r\n                    <Controls.Button\r\n                        text=\"Add New\"\r\n                        variant=\"outlined\"\r\n                        startIcon={<AddIcon />}\r\n                        className={classes.newButton}\r\n                        onClick={() => { setOpenPopup(true); setRecordForEdit(null); }}\r\n                    />\r\n                </Toolbar>\r\n                <TblContainer>\r\n                    <TblHead />\r\n                    <TableBody>\r\n                        {\r\n                            recordsAfterPagingAndSorting(records).map(item =>\r\n                                (<TableRow key={item.elnot}>\r\n                                    <TableCell>{item.elnot}</TableCell>\r\n                                    <TableCell>{item.rf1}</TableCell>\r\n                                    <TableCell>{item.rf2}</TableCell>\r\n                                    <TableCell>{item.rf3}</TableCell>\r\n                                    <TableCell>{item.pri1}</TableCell>\r\n                                    <TableCell>{item.pri2}</TableCell>\r\n                                    <TableCell>\r\n                                        <Controls.ActionButton\r\n                                            color=\"primary\"\r\n                                            onClick={() => { openInPopup(item) }}>\r\n                                            <EditOutlinedIcon fontSize=\"small\" />\r\n                                        </Controls.ActionButton>\r\n                                        <Controls.ActionButton\r\n                                            color=\"secondary\">\r\n                                            <CloseIcon fontSize=\"small\" />\r\n                                        </Controls.ActionButton>\r\n                                    </TableCell>\r\n                                </TableRow>)\r\n                            )\r\n                        }\r\n                    </TableBody>\r\n                </TblContainer>\r\n                <TblPagination />\r\n            </Paper>            \r\n            <Popup\r\n                title=\"User Form\"\r\n                openPopup={openPopup}\r\n                setOpenPopup={setOpenPopup}\r\n            >\r\n            </Popup>\r\n        </>\r\n    )\r\n}"]},"metadata":{},"sourceType":"module"}