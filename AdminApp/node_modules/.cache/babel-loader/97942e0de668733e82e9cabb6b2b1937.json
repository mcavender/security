{"ast":null,"code":"/**\r\n * DevExtreme (ui/context_menu/ui.menu_base.js)\r\n * Version: 20.2.6\r\n * Build date: Tue Mar 16 2021\r\n *\r\n * Copyright (c) 2012 - 2021 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\n\"use strict\";\n\nexports.default = void 0;\n\nvar _renderer = _interopRequireDefault(require(\"../../core/renderer\"));\n\nvar _common = require(\"../../core/utils/common\");\n\nvar _type = require(\"../../core/utils/type\");\n\nvar _iterator = require(\"../../core/utils/iterator\");\n\nvar _extend = require(\"../../core/utils/extend\");\n\nvar _utils = require(\"../widget/utils.ink_ripple\");\n\nvar _ui = _interopRequireDefault(require(\"../hierarchical_collection/ui.hierarchical_collection_widget\"));\n\nvar _uiMenu_baseEdit = _interopRequireDefault(require(\"./ui.menu_base.edit.strategy\"));\n\nvar _devices = _interopRequireDefault(require(\"../../core/devices\"));\n\nvar _item = _interopRequireDefault(require(\"../collection/item\"));\n\nfunction _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : {\n    \"default\": obj\n  };\n}\n\nfunction _inheritsLoose(subClass, superClass) {\n  subClass.prototype = Object.create(superClass.prototype);\n  subClass.prototype.constructor = subClass;\n\n  _setPrototypeOf(subClass, superClass);\n}\n\nfunction _setPrototypeOf(o, p) {\n  _setPrototypeOf = Object.setPrototypeOf || function (o, p) {\n    o.__proto__ = p;\n    return o;\n  };\n\n  return _setPrototypeOf(o, p);\n}\n\nvar DX_MENU_CLASS = \"dx-menu\";\nvar DX_MENU_NO_ICONS_CLASS = DX_MENU_CLASS + \"-no-icons\";\nvar DX_MENU_BASE_CLASS = \"dx-menu-base\";\nvar ITEM_CLASS = DX_MENU_CLASS + \"-item\";\nvar DX_ITEM_CONTENT_CLASS = ITEM_CLASS + \"-content\";\nvar DX_MENU_SELECTED_ITEM_CLASS = ITEM_CLASS + \"-selected\";\nvar DX_MENU_ITEM_WRAPPER_CLASS = ITEM_CLASS + \"-wrapper\";\nvar DX_MENU_ITEMS_CONTAINER_CLASS = DX_MENU_CLASS + \"-items-container\";\nvar DX_MENU_ITEM_EXPANDED_CLASS = ITEM_CLASS + \"-expanded\";\nvar DX_MENU_SEPARATOR_CLASS = DX_MENU_CLASS + \"-separator\";\nvar DX_MENU_ITEM_LAST_GROUP_ITEM = DX_MENU_CLASS + \"-last-group-item\";\nvar DX_ITEM_HAS_TEXT = ITEM_CLASS + \"-has-text\";\nvar DX_ITEM_HAS_ICON = ITEM_CLASS + \"-has-icon\";\nvar DX_ITEM_HAS_SUBMENU = ITEM_CLASS + \"-has-submenu\";\nvar DX_MENU_ITEM_POPOUT_CLASS = ITEM_CLASS + \"-popout\";\nvar DX_MENU_ITEM_POPOUT_CONTAINER_CLASS = DX_MENU_ITEM_POPOUT_CLASS + \"-container\";\nvar DX_MENU_ITEM_CAPTION_CLASS = ITEM_CLASS + \"-text\";\nvar SINGLE_SELECTION_MODE = \"single\";\nvar DEFAULT_DELAY = {\n  show: 50,\n  hide: 300\n};\n\nvar MenuBase = function (_HierarchicalCollecti) {\n  _inheritsLoose(MenuBase, _HierarchicalCollecti);\n\n  function MenuBase() {\n    return _HierarchicalCollecti.apply(this, arguments) || this;\n  }\n\n  var _proto = MenuBase.prototype;\n\n  _proto._getDefaultOptions = function () {\n    return (0, _extend.extend)(_HierarchicalCollecti.prototype._getDefaultOptions.call(this), {\n      items: [],\n      cssClass: \"\",\n      activeStateEnabled: true,\n      showSubmenuMode: {\n        name: \"onHover\",\n        delay: {\n          show: 50,\n          hide: 300\n        }\n      },\n      animation: {\n        show: {\n          type: \"fade\",\n          from: 0,\n          to: 1,\n          duration: 100\n        },\n        hide: {\n          type: \"fade\",\n          from: 1,\n          to: 0,\n          duration: 100\n        }\n      },\n      selectByClick: false,\n      focusOnSelectedItem: false,\n      keyExpr: null,\n      _itemAttributes: {\n        role: \"menuitem\"\n      },\n      useInkRipple: false\n    });\n  };\n\n  _proto._itemDataKey = function () {\n    return \"dxMenuItemDataKey\";\n  };\n\n  _proto._itemClass = function () {\n    return ITEM_CLASS;\n  };\n\n  _proto._setAriaSelected = function () {};\n\n  _proto._selectedItemClass = function () {\n    return DX_MENU_SELECTED_ITEM_CLASS;\n  };\n\n  _proto._widgetClass = function () {\n    return DX_MENU_BASE_CLASS;\n  };\n\n  _proto._focusTarget = function () {\n    return this._itemContainer();\n  };\n\n  _proto._clean = function () {\n    this.option(\"focusedElement\", null);\n\n    _HierarchicalCollecti.prototype._clean.call(this);\n  };\n\n  _proto._supportedKeys = function () {\n    var _this = this;\n\n    var selectItem = function () {\n      var $item = (0, _renderer.default)(_this.option(\"focusedElement\"));\n\n      if (!$item.length || !_this._isSelectionEnabled()) {\n        return;\n      }\n\n      _this.selectItem($item[0]);\n    };\n\n    return (0, _extend.extend)(_HierarchicalCollecti.prototype._supportedKeys.call(this), {\n      space: selectItem,\n      pageUp: _common.noop,\n      pageDown: _common.noop\n    });\n  };\n\n  _proto._isSelectionEnabled = function () {\n    return this.option(\"selectionMode\") === SINGLE_SELECTION_MODE;\n  };\n\n  _proto._init = function () {\n    this._activeStateUnit = \".\".concat(ITEM_CLASS);\n\n    _HierarchicalCollecti.prototype._init.call(this);\n\n    this._renderSelectedItem();\n\n    this._initActions();\n  };\n\n  _proto._getTextContainer = function (itemData) {\n    var itemText = itemData.text;\n    var $itemContainer = (0, _renderer.default)(\"<span>\").addClass(DX_MENU_ITEM_CAPTION_CLASS);\n    var itemContent = (0, _type.isPlainObject)(itemData) ? itemText : String(itemData);\n    return itemText && $itemContainer.text(itemContent);\n  };\n\n  _proto._getPopoutContainer = function (itemData) {\n    var items = itemData.items;\n    var $popOutContainer;\n\n    if (items && items.length) {\n      var $popOutImage = (0, _renderer.default)(\"<div>\").addClass(DX_MENU_ITEM_POPOUT_CLASS);\n      $popOutContainer = (0, _renderer.default)(\"<span>\").addClass(DX_MENU_ITEM_POPOUT_CONTAINER_CLASS).append($popOutImage);\n    }\n\n    return $popOutContainer;\n  };\n\n  _proto._getDataAdapterOptions = function () {\n    return {\n      rootValue: 0,\n      multipleSelection: false,\n      recursiveSelection: false,\n      recursiveExpansion: false,\n      searchValue: \"\"\n    };\n  };\n\n  _proto._selectByItem = function (selectedItem) {\n    if (!selectedItem) {\n      return;\n    }\n\n    var nodeToSelect = this._dataAdapter.getNodeByItem(selectedItem);\n\n    this._dataAdapter.toggleSelection(nodeToSelect.internalFields.key, true);\n  };\n\n  _proto._renderSelectedItem = function () {\n    var selectedKeys = this._dataAdapter.getSelectedNodesKeys();\n\n    var selectedKey = selectedKeys.length && selectedKeys[0];\n    var selectedItem = this.option(\"selectedItem\");\n\n    if (!selectedKey) {\n      this._selectByItem(selectedItem);\n\n      return;\n    }\n\n    var node = this._dataAdapter.getNodeByKey(selectedKey);\n\n    if (false === node.selectable) {\n      return;\n    }\n\n    if (!selectedItem) {\n      this.option(\"selectedItem\", node.internalFields.item);\n      return;\n    }\n\n    if (selectedItem !== node.internalFields.item) {\n      this._dataAdapter.toggleSelection(selectedKey, false);\n\n      this._selectByItem(selectedItem);\n    }\n  };\n\n  _proto._initActions = function () {};\n\n  _proto._initMarkup = function () {\n    _HierarchicalCollecti.prototype._initMarkup.call(this);\n\n    this._addCustomCssClass(this.$element());\n\n    this.option(\"useInkRipple\") && this._renderInkRipple();\n  };\n\n  _proto._renderInkRipple = function () {\n    this._inkRipple = (0, _utils.render)();\n  };\n\n  _proto._toggleActiveState = function ($element, value, e) {\n    _HierarchicalCollecti.prototype._toggleActiveState.apply(this, arguments);\n\n    if (!this._inkRipple) {\n      return;\n    }\n\n    var config = {\n      element: $element,\n      event: e\n    };\n\n    if (value) {\n      this._inkRipple.showWave(config);\n    } else {\n      this._inkRipple.hideWave(config);\n    }\n  };\n\n  _proto._getShowSubmenuMode = function () {\n    var defaultValue = \"onClick\";\n    var optionValue = this.option(\"showSubmenuMode\");\n    optionValue = (0, _type.isObject)(optionValue) ? optionValue.name : optionValue;\n    return this._isDesktopDevice() ? optionValue : defaultValue;\n  };\n\n  _proto._initSelectedItems = function () {};\n\n  _proto._isDesktopDevice = function () {\n    return \"desktop\" === _devices.default.real().deviceType;\n  };\n\n  _proto._initEditStrategy = function () {\n    var Strategy = _uiMenu_baseEdit.default;\n    this._editStrategy = new Strategy(this);\n  };\n\n  _proto._addCustomCssClass = function ($element) {\n    $element.addClass(this.option(\"cssClass\"));\n  };\n\n  _proto._itemWrapperSelector = function () {\n    return \".\".concat(DX_MENU_ITEM_WRAPPER_CLASS);\n  };\n\n  _proto._hoverStartHandler = function (e) {\n    var $itemElement = this._getItemElementByEventArgs(e);\n\n    if (!$itemElement || this._isItemDisabled($itemElement)) {\n      return;\n    }\n\n    e.stopPropagation();\n\n    if (\"onHover\" === this._getShowSubmenuMode()) {\n      clearTimeout(this._showSubmenusTimeout);\n      this._showSubmenusTimeout = setTimeout(this._showSubmenu.bind(this, $itemElement), this._getSubmenuDelay(\"show\"));\n    }\n  };\n\n  _proto._getAvailableItems = function ($itemElements) {\n    return _HierarchicalCollecti.prototype._getAvailableItems.call(this, $itemElements).filter(function () {\n      return \"hidden\" !== (0, _renderer.default)(this).css(\"visibility\");\n    });\n  };\n\n  _proto._isItemDisabled = function ($item) {\n    return this._disabledGetter($item.data(this._itemDataKey()));\n  };\n\n  _proto._showSubmenu = function ($itemElement) {\n    this._addExpandedClass($itemElement);\n  };\n\n  _proto._addExpandedClass = function (itemElement) {\n    (0, _renderer.default)(itemElement).addClass(DX_MENU_ITEM_EXPANDED_CLASS);\n  };\n\n  _proto._getSubmenuDelay = function (action) {\n    var _this$option = this.option(\"showSubmenuMode\"),\n        delay = _this$option.delay;\n\n    if (!(0, _type.isDefined)(delay)) {\n      return DEFAULT_DELAY[action];\n    }\n\n    return (0, _type.isObject)(delay) ? delay[action] : delay;\n  };\n\n  _proto._getItemElementByEventArgs = function (eventArgs) {\n    var $target = (0, _renderer.default)(eventArgs.target);\n\n    if ($target.hasClass(this._itemClass()) || $target.get(0) === eventArgs.currentTarget) {\n      return $target;\n    }\n\n    while (!$target.hasClass(this._itemClass())) {\n      $target = $target.parent();\n\n      if ($target.hasClass(\"dx-submenu\")) {\n        return null;\n      }\n    }\n\n    return $target;\n  };\n\n  _proto._hoverEndHandler = function () {\n    clearTimeout(this._showSubmenusTimeout);\n  };\n\n  _proto._hasSubmenu = function (node) {\n    return node && node.internalFields.childrenKeys.length;\n  };\n\n  _proto._renderContentImpl = function () {\n    this._renderItems(this._dataAdapter.getRootNodes());\n  };\n\n  _proto._renderItems = function (nodes, submenuContainer) {\n    var _this2 = this;\n\n    if (nodes.length) {\n      this.hasIcons = false;\n\n      var $nodeContainer = this._renderContainer(this.$element(), submenuContainer);\n\n      var firstVisibleIndex = -1;\n      var nextGroupFirstIndex = -1;\n      (0, _iterator.each)(nodes, function (index, node) {\n        var isVisibleNode = false !== node.visible;\n\n        if (isVisibleNode && firstVisibleIndex < 0) {\n          firstVisibleIndex = index;\n        }\n\n        var isBeginGroup = firstVisibleIndex < index && (node.beginGroup || index === nextGroupFirstIndex);\n\n        if (isBeginGroup) {\n          nextGroupFirstIndex = isVisibleNode ? index : index + 1;\n        }\n\n        if (index === nextGroupFirstIndex && firstVisibleIndex < index) {\n          _this2._renderSeparator($nodeContainer);\n        }\n\n        _this2._renderItem(index, node, $nodeContainer);\n      });\n\n      if (!this.hasIcons) {\n        $nodeContainer.addClass(DX_MENU_NO_ICONS_CLASS);\n      }\n    }\n  };\n\n  _proto._renderContainer = function ($wrapper) {\n    var $container = (0, _renderer.default)(\"<ul>\");\n    this.setAria(\"role\", \"none\", $container);\n    return $container.appendTo($wrapper).addClass(DX_MENU_ITEMS_CONTAINER_CLASS);\n  };\n\n  _proto._createDOMElement = function ($nodeContainer) {\n    var $node = (0, _renderer.default)(\"<li>\");\n    this.setAria(\"role\", \"none\", $node);\n    return $node.appendTo($nodeContainer).addClass(DX_MENU_ITEM_WRAPPER_CLASS);\n  };\n\n  _proto._renderItem = function (index, node, $nodeContainer, $nodeElement) {\n    var items = this.option(\"items\");\n\n    var $node = $nodeElement || this._createDOMElement($nodeContainer);\n\n    if (items[index + 1] && items[index + 1].beginGroup) {\n      $node.addClass(DX_MENU_ITEM_LAST_GROUP_ITEM);\n    }\n\n    var $itemFrame = _HierarchicalCollecti.prototype._renderItem.call(this, index, node.internalFields.item, $node);\n\n    if (node.internalFields.item === this.option(\"selectedItem\")) {\n      $itemFrame.addClass(DX_MENU_SELECTED_ITEM_CLASS);\n    }\n\n    $itemFrame.attr(\"tabIndex\", -1);\n\n    if (this._hasSubmenu(node)) {\n      this.setAria(\"haspopup\", \"true\", $itemFrame);\n    }\n  };\n\n  _proto._renderItemFrame = function (index, itemData, $itemContainer) {\n    var $itemFrame = $itemContainer.children(\".\".concat(ITEM_CLASS));\n    return $itemFrame.length ? $itemFrame : _HierarchicalCollecti.prototype._renderItemFrame.apply(this, arguments);\n  };\n\n  _proto._refreshItem = function ($item, item) {\n    var node = this._dataAdapter.getNodeByItem(item);\n\n    var index = $item.data(this._itemIndexKey());\n    var $nodeContainer = $item.closest(\"ul\");\n    var $nodeElement = $item.closest(\"li\");\n\n    this._renderItem(index, node, $nodeContainer, $nodeElement);\n  };\n\n  _proto._addContentClasses = function (itemData, $itemFrame) {\n    var hasText = itemData.text ? !!itemData.text.length : false;\n    var hasIcon = !!itemData.icon;\n    var hasSubmenu = itemData.items ? !!itemData.items.length : false;\n    $itemFrame.toggleClass(DX_ITEM_HAS_TEXT, hasText);\n    $itemFrame.toggleClass(DX_ITEM_HAS_ICON, hasIcon);\n\n    if (!this.hasIcons) {\n      this.hasIcons = hasIcon;\n    }\n\n    $itemFrame.toggleClass(DX_ITEM_HAS_SUBMENU, hasSubmenu);\n  };\n\n  _proto._getItemContent = function ($itemFrame) {\n    var $itemContent = _HierarchicalCollecti.prototype._getItemContent.call(this, $itemFrame);\n\n    if (!$itemContent.length) {\n      $itemContent = $itemFrame.children(\".\".concat(DX_ITEM_CONTENT_CLASS));\n    }\n\n    return $itemContent;\n  };\n\n  _proto._postprocessRenderItem = function (args) {\n    var $itemElement = (0, _renderer.default)(args.itemElement);\n\n    var selectedIndex = this._dataAdapter.getSelectedNodesKeys();\n\n    if (!selectedIndex.length || !this._selectedGetter(args.itemData) || !this._isItemSelectable(args.itemData)) {\n      this._setAriaSelected($itemElement, \"false\");\n\n      return;\n    }\n\n    var node = this._dataAdapter.getNodeByItem(args.itemData);\n\n    if (node.internalFields.key === selectedIndex[0]) {\n      $itemElement.addClass(this._selectedItemClass());\n\n      this._setAriaSelected($itemElement, \"true\");\n    } else {\n      this._setAriaSelected($itemElement, \"false\");\n    }\n  };\n\n  _proto._isItemSelectable = function (item) {\n    return false !== item.selectable;\n  };\n\n  _proto._renderSeparator = function ($itemsContainer) {\n    (0, _renderer.default)(\"<li>\").appendTo($itemsContainer).addClass(DX_MENU_SEPARATOR_CLASS);\n  };\n\n  _proto._itemClickHandler = function (e) {\n    if (e._skipHandling) {\n      return;\n    }\n\n    var itemClickActionHandler = this._createAction(this._updateSubmenuVisibilityOnClick.bind(this));\n\n    this._itemDXEventHandler(e, \"onItemClick\", {}, {\n      afterExecute: itemClickActionHandler.bind(this)\n    });\n\n    e._skipHandling = true;\n  };\n\n  _proto._updateSubmenuVisibilityOnClick = function (actionArgs) {\n    this._updateSelectedItemOnClick(actionArgs);\n\n    if (\"onClick\" === this._getShowSubmenuMode()) {\n      this._addExpandedClass(actionArgs.args[0].itemElement);\n    }\n  };\n\n  _proto._updateSelectedItemOnClick = function (actionArgs) {\n    var args = actionArgs.args ? actionArgs.args[0] : actionArgs;\n\n    if (!this._isItemSelectionAllowed(args.itemData)) {\n      return;\n    }\n\n    var selectedItemKey = this._dataAdapter.getSelectedNodesKeys();\n\n    var selectedNode = selectedItemKey.length && this._dataAdapter.getNodeByKey(selectedItemKey[0]);\n\n    if (selectedNode) {\n      this._toggleItemSelection(selectedNode, false);\n    }\n\n    if (!selectedNode || selectedNode.internalFields.item !== args.itemData) {\n      this.selectItem(args.itemData);\n    } else {\n      this._fireSelectionChangeEvent(null, this.option(\"selectedItem\"));\n\n      this._setOptionWithoutOptionChange(\"selectedItem\", null);\n    }\n  };\n\n  _proto._isItemSelectionAllowed = function (item) {\n    var isSelectionByClickEnabled = this._isSelectionEnabled() && this.option(\"selectByClick\");\n    return !this._isContainerEmpty() && isSelectionByClickEnabled && this._isItemSelectable(item) && !this._itemsGetter(item);\n  };\n\n  _proto._isContainerEmpty = function () {\n    return this._itemContainer().is(\":empty\");\n  };\n\n  _proto._syncSelectionOptions = function () {\n    return (0, _common.asyncNoop)();\n  };\n\n  _proto._optionChanged = function (args) {\n    switch (args.name) {\n      case \"showSubmenuMode\":\n        break;\n\n      case \"selectedItem\":\n        var node = this._dataAdapter.getNodeByItem(args.value);\n\n        var selectedKey = this._dataAdapter.getSelectedNodesKeys()[0];\n\n        if (node && node.internalFields.key !== selectedKey) {\n          if (false === node.selectable) {\n            break;\n          }\n\n          if (selectedKey) {\n            this._toggleItemSelection(this._dataAdapter.getNodeByKey(selectedKey), false);\n          }\n\n          this._toggleItemSelection(node, true);\n\n          this._updateSelectedItems();\n        }\n\n        break;\n\n      case \"cssClass\":\n      case \"position\":\n      case \"selectByClick\":\n      case \"animation\":\n      case \"useInkRipple\":\n        this._invalidate();\n\n        break;\n\n      default:\n        _HierarchicalCollecti.prototype._optionChanged.call(this, args);\n\n    }\n  };\n\n  _proto._toggleItemSelection = function (node, value) {\n    var itemElement = this._getElementByItem(node.internalFields.item);\n\n    itemElement && (0, _renderer.default)(itemElement).toggleClass(DX_MENU_SELECTED_ITEM_CLASS);\n\n    this._dataAdapter.toggleSelection(node.internalFields.key, value);\n  };\n\n  _proto._getElementByItem = function (itemData) {\n    var _this3 = this;\n\n    var result;\n    (0, _iterator.each)(this._itemElements(), function (_, itemElement) {\n      if ((0, _renderer.default)(itemElement).data(_this3._itemDataKey()) !== itemData) {\n        return true;\n      }\n\n      result = itemElement;\n      return false;\n    });\n    return result;\n  };\n\n  _proto._updateSelectedItems = function (oldSelection, newSelection) {\n    if (oldSelection || newSelection) {\n      this._fireSelectionChangeEvent(newSelection, oldSelection);\n    }\n  };\n\n  _proto._fireSelectionChangeEvent = function (addedSelection, removedSelection) {\n    this._createActionByOption(\"onSelectionChanged\", {\n      excludeValidators: [\"disabled\", \"readOnly\"]\n    })({\n      addedItems: [addedSelection],\n      removedItems: [removedSelection]\n    });\n  };\n\n  _proto.selectItem = function (itemElement) {\n    var itemData = itemElement.nodeType ? this._getItemData(itemElement) : itemElement;\n\n    var selectedKey = this._dataAdapter.getSelectedNodesKeys()[0];\n\n    var selectedItem = this.option(\"selectedItem\");\n\n    var node = this._dataAdapter.getNodeByItem(itemData);\n\n    if (node.internalFields.key !== selectedKey) {\n      if (selectedKey) {\n        this._toggleItemSelection(this._dataAdapter.getNodeByKey(selectedKey), false);\n      }\n\n      this._toggleItemSelection(node, true);\n\n      this._updateSelectedItems(selectedItem, itemData);\n\n      this._setOptionWithoutOptionChange(\"selectedItem\", itemData);\n    }\n  };\n\n  _proto.unselectItem = function (itemElement) {\n    var itemData = itemElement.nodeType ? this._getItemData(itemElement) : itemElement;\n\n    var node = this._dataAdapter.getNodeByItem(itemData);\n\n    var selectedItem = this.option(\"selectedItem\");\n\n    if (node.internalFields.selected) {\n      this._toggleItemSelection(node, false);\n\n      this._updateSelectedItems(selectedItem, null);\n\n      this._setOptionWithoutOptionChange(\"selectedItem\", null);\n    }\n  };\n\n  return MenuBase;\n}(_ui.default);\n\nMenuBase.ItemClass = _item.default;\nvar _default = MenuBase;\nexports.default = _default;\nmodule.exports = exports.default;","map":{"version":3,"sources":["C:/Users/CapiniaC/Desktop/Collection/Work/project/security/node_modules/devextreme/ui/context_menu/ui.menu_base.js"],"names":["exports","default","_renderer","_interopRequireDefault","require","_common","_type","_iterator","_extend","_utils","_ui","_uiMenu_baseEdit","_devices","_item","obj","__esModule","_inheritsLoose","subClass","superClass","prototype","Object","create","constructor","_setPrototypeOf","o","p","setPrototypeOf","__proto__","DX_MENU_CLASS","DX_MENU_NO_ICONS_CLASS","DX_MENU_BASE_CLASS","ITEM_CLASS","DX_ITEM_CONTENT_CLASS","DX_MENU_SELECTED_ITEM_CLASS","DX_MENU_ITEM_WRAPPER_CLASS","DX_MENU_ITEMS_CONTAINER_CLASS","DX_MENU_ITEM_EXPANDED_CLASS","DX_MENU_SEPARATOR_CLASS","DX_MENU_ITEM_LAST_GROUP_ITEM","DX_ITEM_HAS_TEXT","DX_ITEM_HAS_ICON","DX_ITEM_HAS_SUBMENU","DX_MENU_ITEM_POPOUT_CLASS","DX_MENU_ITEM_POPOUT_CONTAINER_CLASS","DX_MENU_ITEM_CAPTION_CLASS","SINGLE_SELECTION_MODE","DEFAULT_DELAY","show","hide","MenuBase","_HierarchicalCollecti","apply","arguments","_proto","_getDefaultOptions","extend","call","items","cssClass","activeStateEnabled","showSubmenuMode","name","delay","animation","type","from","to","duration","selectByClick","focusOnSelectedItem","keyExpr","_itemAttributes","role","useInkRipple","_itemDataKey","_itemClass","_setAriaSelected","_selectedItemClass","_widgetClass","_focusTarget","_itemContainer","_clean","option","_supportedKeys","_this","selectItem","$item","length","_isSelectionEnabled","space","pageUp","noop","pageDown","_init","_activeStateUnit","concat","_renderSelectedItem","_initActions","_getTextContainer","itemData","itemText","text","$itemContainer","addClass","itemContent","isPlainObject","String","_getPopoutContainer","$popOutContainer","$popOutImage","append","_getDataAdapterOptions","rootValue","multipleSelection","recursiveSelection","recursiveExpansion","searchValue","_selectByItem","selectedItem","nodeToSelect","_dataAdapter","getNodeByItem","toggleSelection","internalFields","key","selectedKeys","getSelectedNodesKeys","selectedKey","node","getNodeByKey","selectable","item","_initMarkup","_addCustomCssClass","$element","_renderInkRipple","_inkRipple","render","_toggleActiveState","value","e","config","element","event","showWave","hideWave","_getShowSubmenuMode","defaultValue","optionValue","isObject","_isDesktopDevice","_initSelectedItems","real","deviceType","_initEditStrategy","Strategy","_editStrategy","_itemWrapperSelector","_hoverStartHandler","$itemElement","_getItemElementByEventArgs","_isItemDisabled","stopPropagation","clearTimeout","_showSubmenusTimeout","setTimeout","_showSubmenu","bind","_getSubmenuDelay","_getAvailableItems","$itemElements","filter","css","_disabledGetter","data","_addExpandedClass","itemElement","action","_this$option","isDefined","eventArgs","$target","target","hasClass","get","currentTarget","parent","_hoverEndHandler","_hasSubmenu","childrenKeys","_renderContentImpl","_renderItems","getRootNodes","nodes","submenuContainer","_this2","hasIcons","$nodeContainer","_renderContainer","firstVisibleIndex","nextGroupFirstIndex","each","index","isVisibleNode","visible","isBeginGroup","beginGroup","_renderSeparator","_renderItem","$wrapper","$container","setAria","appendTo","_createDOMElement","$node","$nodeElement","$itemFrame","attr","_renderItemFrame","children","_refreshItem","_itemIndexKey","closest","_addContentClasses","hasText","hasIcon","icon","hasSubmenu","toggleClass","_getItemContent","$itemContent","_postprocessRenderItem","args","selectedIndex","_selectedGetter","_isItemSelectable","$itemsContainer","_itemClickHandler","_skipHandling","itemClickActionHandler","_createAction","_updateSubmenuVisibilityOnClick","_itemDXEventHandler","afterExecute","actionArgs","_updateSelectedItemOnClick","_isItemSelectionAllowed","selectedItemKey","selectedNode","_toggleItemSelection","_fireSelectionChangeEvent","_setOptionWithoutOptionChange","isSelectionByClickEnabled","_isContainerEmpty","_itemsGetter","is","_syncSelectionOptions","asyncNoop","_optionChanged","_updateSelectedItems","_invalidate","_getElementByItem","_this3","result","_itemElements","_","oldSelection","newSelection","addedSelection","removedSelection","_createActionByOption","excludeValidators","addedItems","removedItems","nodeType","_getItemData","unselectItem","selected","ItemClass","_default","module"],"mappings":"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","sourcesContent":["/**\r\n * DevExtreme (ui/context_menu/ui.menu_base.js)\r\n * Version: 20.2.6\r\n * Build date: Tue Mar 16 2021\r\n *\r\n * Copyright (c) 2012 - 2021 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\r\n\"use strict\";\r\nexports.default = void 0;\r\nvar _renderer = _interopRequireDefault(require(\"../../core/renderer\"));\r\nvar _common = require(\"../../core/utils/common\");\r\nvar _type = require(\"../../core/utils/type\");\r\nvar _iterator = require(\"../../core/utils/iterator\");\r\nvar _extend = require(\"../../core/utils/extend\");\r\nvar _utils = require(\"../widget/utils.ink_ripple\");\r\nvar _ui = _interopRequireDefault(require(\"../hierarchical_collection/ui.hierarchical_collection_widget\"));\r\nvar _uiMenu_baseEdit = _interopRequireDefault(require(\"./ui.menu_base.edit.strategy\"));\r\nvar _devices = _interopRequireDefault(require(\"../../core/devices\"));\r\nvar _item = _interopRequireDefault(require(\"../collection/item\"));\r\n\r\nfunction _interopRequireDefault(obj) {\r\n    return obj && obj.__esModule ? obj : {\r\n        \"default\": obj\r\n    }\r\n}\r\n\r\nfunction _inheritsLoose(subClass, superClass) {\r\n    subClass.prototype = Object.create(superClass.prototype);\r\n    subClass.prototype.constructor = subClass;\r\n    _setPrototypeOf(subClass, superClass)\r\n}\r\n\r\nfunction _setPrototypeOf(o, p) {\r\n    _setPrototypeOf = Object.setPrototypeOf || function(o, p) {\r\n        o.__proto__ = p;\r\n        return o\r\n    };\r\n    return _setPrototypeOf(o, p)\r\n}\r\nvar DX_MENU_CLASS = \"dx-menu\";\r\nvar DX_MENU_NO_ICONS_CLASS = DX_MENU_CLASS + \"-no-icons\";\r\nvar DX_MENU_BASE_CLASS = \"dx-menu-base\";\r\nvar ITEM_CLASS = DX_MENU_CLASS + \"-item\";\r\nvar DX_ITEM_CONTENT_CLASS = ITEM_CLASS + \"-content\";\r\nvar DX_MENU_SELECTED_ITEM_CLASS = ITEM_CLASS + \"-selected\";\r\nvar DX_MENU_ITEM_WRAPPER_CLASS = ITEM_CLASS + \"-wrapper\";\r\nvar DX_MENU_ITEMS_CONTAINER_CLASS = DX_MENU_CLASS + \"-items-container\";\r\nvar DX_MENU_ITEM_EXPANDED_CLASS = ITEM_CLASS + \"-expanded\";\r\nvar DX_MENU_SEPARATOR_CLASS = DX_MENU_CLASS + \"-separator\";\r\nvar DX_MENU_ITEM_LAST_GROUP_ITEM = DX_MENU_CLASS + \"-last-group-item\";\r\nvar DX_ITEM_HAS_TEXT = ITEM_CLASS + \"-has-text\";\r\nvar DX_ITEM_HAS_ICON = ITEM_CLASS + \"-has-icon\";\r\nvar DX_ITEM_HAS_SUBMENU = ITEM_CLASS + \"-has-submenu\";\r\nvar DX_MENU_ITEM_POPOUT_CLASS = ITEM_CLASS + \"-popout\";\r\nvar DX_MENU_ITEM_POPOUT_CONTAINER_CLASS = DX_MENU_ITEM_POPOUT_CLASS + \"-container\";\r\nvar DX_MENU_ITEM_CAPTION_CLASS = ITEM_CLASS + \"-text\";\r\nvar SINGLE_SELECTION_MODE = \"single\";\r\nvar DEFAULT_DELAY = {\r\n    show: 50,\r\n    hide: 300\r\n};\r\nvar MenuBase = function(_HierarchicalCollecti) {\r\n    _inheritsLoose(MenuBase, _HierarchicalCollecti);\r\n\r\n    function MenuBase() {\r\n        return _HierarchicalCollecti.apply(this, arguments) || this\r\n    }\r\n    var _proto = MenuBase.prototype;\r\n    _proto._getDefaultOptions = function() {\r\n        return (0, _extend.extend)(_HierarchicalCollecti.prototype._getDefaultOptions.call(this), {\r\n            items: [],\r\n            cssClass: \"\",\r\n            activeStateEnabled: true,\r\n            showSubmenuMode: {\r\n                name: \"onHover\",\r\n                delay: {\r\n                    show: 50,\r\n                    hide: 300\r\n                }\r\n            },\r\n            animation: {\r\n                show: {\r\n                    type: \"fade\",\r\n                    from: 0,\r\n                    to: 1,\r\n                    duration: 100\r\n                },\r\n                hide: {\r\n                    type: \"fade\",\r\n                    from: 1,\r\n                    to: 0,\r\n                    duration: 100\r\n                }\r\n            },\r\n            selectByClick: false,\r\n            focusOnSelectedItem: false,\r\n            keyExpr: null,\r\n            _itemAttributes: {\r\n                role: \"menuitem\"\r\n            },\r\n            useInkRipple: false\r\n        })\r\n    };\r\n    _proto._itemDataKey = function() {\r\n        return \"dxMenuItemDataKey\"\r\n    };\r\n    _proto._itemClass = function() {\r\n        return ITEM_CLASS\r\n    };\r\n    _proto._setAriaSelected = function() {};\r\n    _proto._selectedItemClass = function() {\r\n        return DX_MENU_SELECTED_ITEM_CLASS\r\n    };\r\n    _proto._widgetClass = function() {\r\n        return DX_MENU_BASE_CLASS\r\n    };\r\n    _proto._focusTarget = function() {\r\n        return this._itemContainer()\r\n    };\r\n    _proto._clean = function() {\r\n        this.option(\"focusedElement\", null);\r\n        _HierarchicalCollecti.prototype._clean.call(this)\r\n    };\r\n    _proto._supportedKeys = function() {\r\n        var _this = this;\r\n        var selectItem = function() {\r\n            var $item = (0, _renderer.default)(_this.option(\"focusedElement\"));\r\n            if (!$item.length || !_this._isSelectionEnabled()) {\r\n                return\r\n            }\r\n            _this.selectItem($item[0])\r\n        };\r\n        return (0, _extend.extend)(_HierarchicalCollecti.prototype._supportedKeys.call(this), {\r\n            space: selectItem,\r\n            pageUp: _common.noop,\r\n            pageDown: _common.noop\r\n        })\r\n    };\r\n    _proto._isSelectionEnabled = function() {\r\n        return this.option(\"selectionMode\") === SINGLE_SELECTION_MODE\r\n    };\r\n    _proto._init = function() {\r\n        this._activeStateUnit = \".\".concat(ITEM_CLASS);\r\n        _HierarchicalCollecti.prototype._init.call(this);\r\n        this._renderSelectedItem();\r\n        this._initActions()\r\n    };\r\n    _proto._getTextContainer = function(itemData) {\r\n        var itemText = itemData.text;\r\n        var $itemContainer = (0, _renderer.default)(\"<span>\").addClass(DX_MENU_ITEM_CAPTION_CLASS);\r\n        var itemContent = (0, _type.isPlainObject)(itemData) ? itemText : String(itemData);\r\n        return itemText && $itemContainer.text(itemContent)\r\n    };\r\n    _proto._getPopoutContainer = function(itemData) {\r\n        var items = itemData.items;\r\n        var $popOutContainer;\r\n        if (items && items.length) {\r\n            var $popOutImage = (0, _renderer.default)(\"<div>\").addClass(DX_MENU_ITEM_POPOUT_CLASS);\r\n            $popOutContainer = (0, _renderer.default)(\"<span>\").addClass(DX_MENU_ITEM_POPOUT_CONTAINER_CLASS).append($popOutImage)\r\n        }\r\n        return $popOutContainer\r\n    };\r\n    _proto._getDataAdapterOptions = function() {\r\n        return {\r\n            rootValue: 0,\r\n            multipleSelection: false,\r\n            recursiveSelection: false,\r\n            recursiveExpansion: false,\r\n            searchValue: \"\"\r\n        }\r\n    };\r\n    _proto._selectByItem = function(selectedItem) {\r\n        if (!selectedItem) {\r\n            return\r\n        }\r\n        var nodeToSelect = this._dataAdapter.getNodeByItem(selectedItem);\r\n        this._dataAdapter.toggleSelection(nodeToSelect.internalFields.key, true)\r\n    };\r\n    _proto._renderSelectedItem = function() {\r\n        var selectedKeys = this._dataAdapter.getSelectedNodesKeys();\r\n        var selectedKey = selectedKeys.length && selectedKeys[0];\r\n        var selectedItem = this.option(\"selectedItem\");\r\n        if (!selectedKey) {\r\n            this._selectByItem(selectedItem);\r\n            return\r\n        }\r\n        var node = this._dataAdapter.getNodeByKey(selectedKey);\r\n        if (false === node.selectable) {\r\n            return\r\n        }\r\n        if (!selectedItem) {\r\n            this.option(\"selectedItem\", node.internalFields.item);\r\n            return\r\n        }\r\n        if (selectedItem !== node.internalFields.item) {\r\n            this._dataAdapter.toggleSelection(selectedKey, false);\r\n            this._selectByItem(selectedItem)\r\n        }\r\n    };\r\n    _proto._initActions = function() {};\r\n    _proto._initMarkup = function() {\r\n        _HierarchicalCollecti.prototype._initMarkup.call(this);\r\n        this._addCustomCssClass(this.$element());\r\n        this.option(\"useInkRipple\") && this._renderInkRipple()\r\n    };\r\n    _proto._renderInkRipple = function() {\r\n        this._inkRipple = (0, _utils.render)()\r\n    };\r\n    _proto._toggleActiveState = function($element, value, e) {\r\n        _HierarchicalCollecti.prototype._toggleActiveState.apply(this, arguments);\r\n        if (!this._inkRipple) {\r\n            return\r\n        }\r\n        var config = {\r\n            element: $element,\r\n            event: e\r\n        };\r\n        if (value) {\r\n            this._inkRipple.showWave(config)\r\n        } else {\r\n            this._inkRipple.hideWave(config)\r\n        }\r\n    };\r\n    _proto._getShowSubmenuMode = function() {\r\n        var defaultValue = \"onClick\";\r\n        var optionValue = this.option(\"showSubmenuMode\");\r\n        optionValue = (0, _type.isObject)(optionValue) ? optionValue.name : optionValue;\r\n        return this._isDesktopDevice() ? optionValue : defaultValue\r\n    };\r\n    _proto._initSelectedItems = function() {};\r\n    _proto._isDesktopDevice = function() {\r\n        return \"desktop\" === _devices.default.real().deviceType\r\n    };\r\n    _proto._initEditStrategy = function() {\r\n        var Strategy = _uiMenu_baseEdit.default;\r\n        this._editStrategy = new Strategy(this)\r\n    };\r\n    _proto._addCustomCssClass = function($element) {\r\n        $element.addClass(this.option(\"cssClass\"))\r\n    };\r\n    _proto._itemWrapperSelector = function() {\r\n        return \".\".concat(DX_MENU_ITEM_WRAPPER_CLASS)\r\n    };\r\n    _proto._hoverStartHandler = function(e) {\r\n        var $itemElement = this._getItemElementByEventArgs(e);\r\n        if (!$itemElement || this._isItemDisabled($itemElement)) {\r\n            return\r\n        }\r\n        e.stopPropagation();\r\n        if (\"onHover\" === this._getShowSubmenuMode()) {\r\n            clearTimeout(this._showSubmenusTimeout);\r\n            this._showSubmenusTimeout = setTimeout(this._showSubmenu.bind(this, $itemElement), this._getSubmenuDelay(\"show\"))\r\n        }\r\n    };\r\n    _proto._getAvailableItems = function($itemElements) {\r\n        return _HierarchicalCollecti.prototype._getAvailableItems.call(this, $itemElements).filter(function() {\r\n            return \"hidden\" !== (0, _renderer.default)(this).css(\"visibility\")\r\n        })\r\n    };\r\n    _proto._isItemDisabled = function($item) {\r\n        return this._disabledGetter($item.data(this._itemDataKey()))\r\n    };\r\n    _proto._showSubmenu = function($itemElement) {\r\n        this._addExpandedClass($itemElement)\r\n    };\r\n    _proto._addExpandedClass = function(itemElement) {\r\n        (0, _renderer.default)(itemElement).addClass(DX_MENU_ITEM_EXPANDED_CLASS)\r\n    };\r\n    _proto._getSubmenuDelay = function(action) {\r\n        var _this$option = this.option(\"showSubmenuMode\"),\r\n            delay = _this$option.delay;\r\n        if (!(0, _type.isDefined)(delay)) {\r\n            return DEFAULT_DELAY[action]\r\n        }\r\n        return (0, _type.isObject)(delay) ? delay[action] : delay\r\n    };\r\n    _proto._getItemElementByEventArgs = function(eventArgs) {\r\n        var $target = (0, _renderer.default)(eventArgs.target);\r\n        if ($target.hasClass(this._itemClass()) || $target.get(0) === eventArgs.currentTarget) {\r\n            return $target\r\n        }\r\n        while (!$target.hasClass(this._itemClass())) {\r\n            $target = $target.parent();\r\n            if ($target.hasClass(\"dx-submenu\")) {\r\n                return null\r\n            }\r\n        }\r\n        return $target\r\n    };\r\n    _proto._hoverEndHandler = function() {\r\n        clearTimeout(this._showSubmenusTimeout)\r\n    };\r\n    _proto._hasSubmenu = function(node) {\r\n        return node && node.internalFields.childrenKeys.length\r\n    };\r\n    _proto._renderContentImpl = function() {\r\n        this._renderItems(this._dataAdapter.getRootNodes())\r\n    };\r\n    _proto._renderItems = function(nodes, submenuContainer) {\r\n        var _this2 = this;\r\n        if (nodes.length) {\r\n            this.hasIcons = false;\r\n            var $nodeContainer = this._renderContainer(this.$element(), submenuContainer);\r\n            var firstVisibleIndex = -1;\r\n            var nextGroupFirstIndex = -1;\r\n            (0, _iterator.each)(nodes, function(index, node) {\r\n                var isVisibleNode = false !== node.visible;\r\n                if (isVisibleNode && firstVisibleIndex < 0) {\r\n                    firstVisibleIndex = index\r\n                }\r\n                var isBeginGroup = firstVisibleIndex < index && (node.beginGroup || index === nextGroupFirstIndex);\r\n                if (isBeginGroup) {\r\n                    nextGroupFirstIndex = isVisibleNode ? index : index + 1\r\n                }\r\n                if (index === nextGroupFirstIndex && firstVisibleIndex < index) {\r\n                    _this2._renderSeparator($nodeContainer)\r\n                }\r\n                _this2._renderItem(index, node, $nodeContainer)\r\n            });\r\n            if (!this.hasIcons) {\r\n                $nodeContainer.addClass(DX_MENU_NO_ICONS_CLASS)\r\n            }\r\n        }\r\n    };\r\n    _proto._renderContainer = function($wrapper) {\r\n        var $container = (0, _renderer.default)(\"<ul>\");\r\n        this.setAria(\"role\", \"none\", $container);\r\n        return $container.appendTo($wrapper).addClass(DX_MENU_ITEMS_CONTAINER_CLASS)\r\n    };\r\n    _proto._createDOMElement = function($nodeContainer) {\r\n        var $node = (0, _renderer.default)(\"<li>\");\r\n        this.setAria(\"role\", \"none\", $node);\r\n        return $node.appendTo($nodeContainer).addClass(DX_MENU_ITEM_WRAPPER_CLASS)\r\n    };\r\n    _proto._renderItem = function(index, node, $nodeContainer, $nodeElement) {\r\n        var items = this.option(\"items\");\r\n        var $node = $nodeElement || this._createDOMElement($nodeContainer);\r\n        if (items[index + 1] && items[index + 1].beginGroup) {\r\n            $node.addClass(DX_MENU_ITEM_LAST_GROUP_ITEM)\r\n        }\r\n        var $itemFrame = _HierarchicalCollecti.prototype._renderItem.call(this, index, node.internalFields.item, $node);\r\n        if (node.internalFields.item === this.option(\"selectedItem\")) {\r\n            $itemFrame.addClass(DX_MENU_SELECTED_ITEM_CLASS)\r\n        }\r\n        $itemFrame.attr(\"tabIndex\", -1);\r\n        if (this._hasSubmenu(node)) {\r\n            this.setAria(\"haspopup\", \"true\", $itemFrame)\r\n        }\r\n    };\r\n    _proto._renderItemFrame = function(index, itemData, $itemContainer) {\r\n        var $itemFrame = $itemContainer.children(\".\".concat(ITEM_CLASS));\r\n        return $itemFrame.length ? $itemFrame : _HierarchicalCollecti.prototype._renderItemFrame.apply(this, arguments)\r\n    };\r\n    _proto._refreshItem = function($item, item) {\r\n        var node = this._dataAdapter.getNodeByItem(item);\r\n        var index = $item.data(this._itemIndexKey());\r\n        var $nodeContainer = $item.closest(\"ul\");\r\n        var $nodeElement = $item.closest(\"li\");\r\n        this._renderItem(index, node, $nodeContainer, $nodeElement)\r\n    };\r\n    _proto._addContentClasses = function(itemData, $itemFrame) {\r\n        var hasText = itemData.text ? !!itemData.text.length : false;\r\n        var hasIcon = !!itemData.icon;\r\n        var hasSubmenu = itemData.items ? !!itemData.items.length : false;\r\n        $itemFrame.toggleClass(DX_ITEM_HAS_TEXT, hasText);\r\n        $itemFrame.toggleClass(DX_ITEM_HAS_ICON, hasIcon);\r\n        if (!this.hasIcons) {\r\n            this.hasIcons = hasIcon\r\n        }\r\n        $itemFrame.toggleClass(DX_ITEM_HAS_SUBMENU, hasSubmenu)\r\n    };\r\n    _proto._getItemContent = function($itemFrame) {\r\n        var $itemContent = _HierarchicalCollecti.prototype._getItemContent.call(this, $itemFrame);\r\n        if (!$itemContent.length) {\r\n            $itemContent = $itemFrame.children(\".\".concat(DX_ITEM_CONTENT_CLASS))\r\n        }\r\n        return $itemContent\r\n    };\r\n    _proto._postprocessRenderItem = function(args) {\r\n        var $itemElement = (0, _renderer.default)(args.itemElement);\r\n        var selectedIndex = this._dataAdapter.getSelectedNodesKeys();\r\n        if (!selectedIndex.length || !this._selectedGetter(args.itemData) || !this._isItemSelectable(args.itemData)) {\r\n            this._setAriaSelected($itemElement, \"false\");\r\n            return\r\n        }\r\n        var node = this._dataAdapter.getNodeByItem(args.itemData);\r\n        if (node.internalFields.key === selectedIndex[0]) {\r\n            $itemElement.addClass(this._selectedItemClass());\r\n            this._setAriaSelected($itemElement, \"true\")\r\n        } else {\r\n            this._setAriaSelected($itemElement, \"false\")\r\n        }\r\n    };\r\n    _proto._isItemSelectable = function(item) {\r\n        return false !== item.selectable\r\n    };\r\n    _proto._renderSeparator = function($itemsContainer) {\r\n        (0, _renderer.default)(\"<li>\").appendTo($itemsContainer).addClass(DX_MENU_SEPARATOR_CLASS)\r\n    };\r\n    _proto._itemClickHandler = function(e) {\r\n        if (e._skipHandling) {\r\n            return\r\n        }\r\n        var itemClickActionHandler = this._createAction(this._updateSubmenuVisibilityOnClick.bind(this));\r\n        this._itemDXEventHandler(e, \"onItemClick\", {}, {\r\n            afterExecute: itemClickActionHandler.bind(this)\r\n        });\r\n        e._skipHandling = true\r\n    };\r\n    _proto._updateSubmenuVisibilityOnClick = function(actionArgs) {\r\n        this._updateSelectedItemOnClick(actionArgs);\r\n        if (\"onClick\" === this._getShowSubmenuMode()) {\r\n            this._addExpandedClass(actionArgs.args[0].itemElement)\r\n        }\r\n    };\r\n    _proto._updateSelectedItemOnClick = function(actionArgs) {\r\n        var args = actionArgs.args ? actionArgs.args[0] : actionArgs;\r\n        if (!this._isItemSelectionAllowed(args.itemData)) {\r\n            return\r\n        }\r\n        var selectedItemKey = this._dataAdapter.getSelectedNodesKeys();\r\n        var selectedNode = selectedItemKey.length && this._dataAdapter.getNodeByKey(selectedItemKey[0]);\r\n        if (selectedNode) {\r\n            this._toggleItemSelection(selectedNode, false)\r\n        }\r\n        if (!selectedNode || selectedNode.internalFields.item !== args.itemData) {\r\n            this.selectItem(args.itemData)\r\n        } else {\r\n            this._fireSelectionChangeEvent(null, this.option(\"selectedItem\"));\r\n            this._setOptionWithoutOptionChange(\"selectedItem\", null)\r\n        }\r\n    };\r\n    _proto._isItemSelectionAllowed = function(item) {\r\n        var isSelectionByClickEnabled = this._isSelectionEnabled() && this.option(\"selectByClick\");\r\n        return !this._isContainerEmpty() && isSelectionByClickEnabled && this._isItemSelectable(item) && !this._itemsGetter(item)\r\n    };\r\n    _proto._isContainerEmpty = function() {\r\n        return this._itemContainer().is(\":empty\")\r\n    };\r\n    _proto._syncSelectionOptions = function() {\r\n        return (0, _common.asyncNoop)()\r\n    };\r\n    _proto._optionChanged = function(args) {\r\n        switch (args.name) {\r\n            case \"showSubmenuMode\":\r\n                break;\r\n            case \"selectedItem\":\r\n                var node = this._dataAdapter.getNodeByItem(args.value);\r\n                var selectedKey = this._dataAdapter.getSelectedNodesKeys()[0];\r\n                if (node && node.internalFields.key !== selectedKey) {\r\n                    if (false === node.selectable) {\r\n                        break\r\n                    }\r\n                    if (selectedKey) {\r\n                        this._toggleItemSelection(this._dataAdapter.getNodeByKey(selectedKey), false)\r\n                    }\r\n                    this._toggleItemSelection(node, true);\r\n                    this._updateSelectedItems()\r\n                }\r\n                break;\r\n            case \"cssClass\":\r\n            case \"position\":\r\n            case \"selectByClick\":\r\n            case \"animation\":\r\n            case \"useInkRipple\":\r\n                this._invalidate();\r\n                break;\r\n            default:\r\n                _HierarchicalCollecti.prototype._optionChanged.call(this, args)\r\n        }\r\n    };\r\n    _proto._toggleItemSelection = function(node, value) {\r\n        var itemElement = this._getElementByItem(node.internalFields.item);\r\n        itemElement && (0, _renderer.default)(itemElement).toggleClass(DX_MENU_SELECTED_ITEM_CLASS);\r\n        this._dataAdapter.toggleSelection(node.internalFields.key, value)\r\n    };\r\n    _proto._getElementByItem = function(itemData) {\r\n        var _this3 = this;\r\n        var result;\r\n        (0, _iterator.each)(this._itemElements(), function(_, itemElement) {\r\n            if ((0, _renderer.default)(itemElement).data(_this3._itemDataKey()) !== itemData) {\r\n                return true\r\n            }\r\n            result = itemElement;\r\n            return false\r\n        });\r\n        return result\r\n    };\r\n    _proto._updateSelectedItems = function(oldSelection, newSelection) {\r\n        if (oldSelection || newSelection) {\r\n            this._fireSelectionChangeEvent(newSelection, oldSelection)\r\n        }\r\n    };\r\n    _proto._fireSelectionChangeEvent = function(addedSelection, removedSelection) {\r\n        this._createActionByOption(\"onSelectionChanged\", {\r\n            excludeValidators: [\"disabled\", \"readOnly\"]\r\n        })({\r\n            addedItems: [addedSelection],\r\n            removedItems: [removedSelection]\r\n        })\r\n    };\r\n    _proto.selectItem = function(itemElement) {\r\n        var itemData = itemElement.nodeType ? this._getItemData(itemElement) : itemElement;\r\n        var selectedKey = this._dataAdapter.getSelectedNodesKeys()[0];\r\n        var selectedItem = this.option(\"selectedItem\");\r\n        var node = this._dataAdapter.getNodeByItem(itemData);\r\n        if (node.internalFields.key !== selectedKey) {\r\n            if (selectedKey) {\r\n                this._toggleItemSelection(this._dataAdapter.getNodeByKey(selectedKey), false)\r\n            }\r\n            this._toggleItemSelection(node, true);\r\n            this._updateSelectedItems(selectedItem, itemData);\r\n            this._setOptionWithoutOptionChange(\"selectedItem\", itemData)\r\n        }\r\n    };\r\n    _proto.unselectItem = function(itemElement) {\r\n        var itemData = itemElement.nodeType ? this._getItemData(itemElement) : itemElement;\r\n        var node = this._dataAdapter.getNodeByItem(itemData);\r\n        var selectedItem = this.option(\"selectedItem\");\r\n        if (node.internalFields.selected) {\r\n            this._toggleItemSelection(node, false);\r\n            this._updateSelectedItems(selectedItem, null);\r\n            this._setOptionWithoutOptionChange(\"selectedItem\", null)\r\n        }\r\n    };\r\n    return MenuBase\r\n}(_ui.default);\r\nMenuBase.ItemClass = _item.default;\r\nvar _default = MenuBase;\r\nexports.default = _default;\r\nmodule.exports = exports.default;\r\n"]},"metadata":{},"sourceType":"script"}